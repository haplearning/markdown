# å¾…è§£å†³

## å†…ç½®å‡½æ•°
### https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__abs__
### breakpoint(\*args,\*\*kws)
### bytearray æ·±å…¥ç†è§£
### bytes æ·±å…¥

### float() æµ®ç‚¹æ•°ç²¾åº¦èŒƒå›´



# å†…ç½®å‡½æ•°

## abs(*x*)

è¿”å›ä¸€ä¸ªæ•°çš„ç»å¯¹å€¼ã€‚å‚æ•°å¯ä»¥æ˜¯ä¸€ä¸ªæ•´æ•°æˆ–æµ®ç‚¹æ•°ã€‚å¦‚æœå‚æ•°æ˜¯ä¸€ä¸ªå¤æ•°ï¼Œåˆ™è¿”å›å®ƒçš„æ¨¡
å¦‚æœ *x* å®šä¹‰äº† `__abs__()`ï¼Œåˆ™ `abs(*x*)` å°†è¿”å› `x.__abs__()`
```python
abs(-15)
# Output: 15
abs(3+4j)
# Output: 5
```

## all(*iterable*)

å¦‚æœ *iterable* çš„æ‰€æœ‰å…ƒç´ ä¸ºçœŸï¼ˆæˆ–è¿­ä»£å™¨ä¸ºç©ºï¼‰ï¼Œåˆ™è¿”å› `True` 
```python
all('123')
# Output: True
all([1,2,3])
# Output: True
all([1,0,3])
# Output: False
all([])
# Output: True
```
ç­‰ä»·äº
```python
def all(iterable):
    for element in iterable:
        if not element:
            return False
    return True
```

## any(*iterable*):

å¦‚æœ *iterable* çš„ä»»ä¸€å…ƒç´ ä¸ºçœŸåˆ™è¿”å› `True`ï¼Œå¦‚æœè¿­ä»£å™¨ä¸ºç©ºï¼Œåˆ™è¿”å› `False`
```python
any('123')
# Output: True
any('000')
# Output: True
any('')
# Output: False
any([1,0,3])
# Output: True
any([0,0,0])
# Output: False
any([])
# Output: False
```
ç­‰ä»·äº
```python
def any(iterable):
    for element in iterable:
        if element:
            return True
    return False
```

## ascii(*object*)

ç±»ä¼¼äº `repr()`ï¼Œè¯¥å‡½æ•°ä¹Ÿä¼šè¿”å›ä¸€ä¸ªç”¨äºæè¿° *object* çš„å­—ç¬¦ä¸²ã€‚ä¸ `repr()` ä¸åŒçš„æ˜¯ï¼Œ`ascii()` åœ¨è·å– `__repr__()` çš„è¿”å›å€¼åï¼Œä¼šä½¿ç”¨è½¬ä¹‰åºåˆ—ï¼ˆ`\x`,`\u`,`\U`ï¼‰æ¥è¡¨ç¤ºå…¶ä¸­çš„é ASCII ç å­—ç¬¦ã€‚
```python
class Cls:
    def __repr__(self):
        # asciiä¸repréƒ½ä¼šä½¿ç”¨__repr__ï¼Œ
        # ä½†asciiä¼šè½¬ä¹‰å…¶ä¸­çš„éASCIIå­—ç¬¦
        return "è°ƒç”¨__repr__"

    def __str__(self):
        # asciiä¸ä½¿ç”¨__str__
        return "è°ƒç”¨__str__"

a_cls = Cls()
print("repr çš„è¿”å›å€¼:{0}".format(repr(a_cls)))
print("asciiçš„è¿”å›å€¼:{0}".format(ascii(a_cls)))

# Output: repr çš„è¿”å›å€¼:è°ƒç”¨__repr__
#         asciiçš„è¿”å›å€¼:\u8c03\u7528__repr__
```
`ascii()` ä¼šå°†é ASCII ç å­—ç¬¦ä»¥ Unicode è½¬ä¹‰åºåˆ—è¡¨ç¤ºï¼š
- `\xhh` è½¬ä¹‰åºåˆ—ç”¨äºè¡¨ç¤ºç ç‚¹èŒƒå›´åœ¨`U+007F` ~ `U+00FF` ä¹‹é—´çš„ Unicode å­—ç¬¦ã€‚
- `\uxxxx` è½¬ä¹‰åºåˆ—ç”¨äºè¡¨ç¤ºç ç‚¹èŒƒå›´åœ¨`U+0100` ~ `U+FFFF` ä¹‹é—´çš„ Unicode å­—ç¬¦ã€‚
- `\Uxxxxxxxx` è½¬ä¹‰åºåˆ—ç”¨äºè¡¨ç¤ºç ç‚¹èŒƒå›´åœ¨ `U+10000` åŠä»¥ä¸Šçš„å­—ç¬¦ã€‚
```python
print(ascii('Âµ')) # U+007F ~ U+00FF
print(ascii('é²¸')) # U+0100 ~ U+FFFF 
print(ascii("ğŸ˜Š")) # U+10000

# Output: '\xb5'
#         '\u9cb8'
#         '\U0001f60a'

```
å¯¹æ¯” `repr()`
```python
print(repr('Âµ'))
print(repr('é²¸'))
print(repr("ğŸ˜Š"))

# Output: 'Âµ'
#         'é²¸'
#         'ğŸ˜Š'

```

## bin(x)

å°†ä¸€ä¸ªæ•´æ•°è½¬å˜ä¸ºä¸€ä¸ªå‰ç¼€ä¸º '0b' çš„äºŒè¿›åˆ¶å­—ç¬¦ä¸²ã€‚ç»“æœæ˜¯ä¸€ä¸ªåˆæ³•çš„ Python è¡¨è¾¾å¼ã€‚
å¦‚æœ `x` ä¸æ˜¯ Python çš„ `int` å¯¹è±¡ï¼Œé‚£å®ƒéœ€è¦å®šä¹‰ `__index__()` æ–¹æ³•è¿”å›ä¸€ä¸ªæ•´æ•°ã€‚
```python
bin(3)
# Output: '0b11'
bin(-10)
# Output: '-0b1010'
```
å¦‚æœä¸ä¸€å®šéœ€è¦å‰ç¼€ '0b' è¿˜å¯ä»¥ç”¨å¦‚ä¸‹æ–¹æ³•
```python
format(14,'b')
format(14,'#b')
# Output: '1110'
#         '0b1110'

f'{14:b}'
f'{14:#b}'
# Output: '1110'
#         '0b1110'
```

## *class* bool([x])

è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œ`True` æˆ– `False`ã€‚å¦‚æœ *x* æ˜¯å‡æˆ–è€…è¢«é—æ¼ï¼Œåˆ™è¿”å› `False`ï¼›å…¶ä»–æƒ…å†µè¿”å› `True`ã€‚
`bool` æ˜¯ `int` çš„å­ç±»ï¼Œå…¶ä»–ç±»ä¸èƒ½ç»§æ‰¿è‡ªå®ƒã€‚å¹¶ä¸”åªæœ‰ `False` å’Œ `True` ä¸¤ä¸ªå®ä¾‹

ä¸€ä¸ª **å¯¹è±¡** åœ¨é»˜è®¤æƒ…å†µä¸‹å‡è¢«æ˜¯ä¸º **çœŸå€¼**ï¼Œé™¤éå½“è¯¥å¯¹è±¡è¢«è°ƒç”¨æ—¶å…¶æ‰€å±ç±»å®šä¹‰äº† `__bool__()` æ–¹æ³•ä¸”è¿”å› `False` æˆ–æ˜¯å®šä¹‰äº† `__len__()` æ–¹æ³•ä¸”è¿”å› `0`ã€‚ä»¥ä¸‹åˆ—å‡ºäº†è¢«æ¯æ˜¯ä¸º **å‡å€¼** çš„å†…ç½®å¯¹è±¡
- è¢«å®šä¹‰ä¸ºå‡å€¼çš„å¸¸é‡ï¼š`None` æˆ– `False`
- ä»»ä½•æ•°å€¼ç±»å‹çš„é›¶ï¼š`0`,`0.0`,`0j`,`Decimal(0)`,`Fraction(0,1)`
- ç©ºçš„åºåˆ—å’Œå¤šé¡¹é›†ï¼š`''`,`()`,`[]`,`{}`,`set()`,`range(0)`

```python

from fractions import Fraction
from decimal import Decimal

bool()    #False
bool(None)    #False
bool(False)    #False
bool(0)    #False
bool(0.0)    #False
bool(0j)    #False
bool(Decimal(0))    #False
bool(Fraction(0,1))    #False
bool('')    #False
bool(())    #False
bool([])    #False
bool({})    #False
bool(set())    #False
bool(range(0))    #False
```

## breakpoint(\*args, \*\*kwargs) 

åœ¨å‡½æ•°ä¸­è®¾ç½®ä¸€ä¸ªæ–­ç‚¹ä¾¿äºä»£ç è°ƒè¯•ï¼Œåç»­è¡¥å……

## *class* bytearray([*source*[, *encoding*[, *errors*]]])

è¿”å›ä¸€ä¸ªæ–°çš„ç”±å­—èŠ‚(8-bits æ— ç¬¦å·)æ„æˆçš„å¯å˜åºåˆ—ï¼Œå¹¶æ‹¥æœ‰å¤§å¤šæ•°å¯å˜åºåˆ—çš„å¸¸è§æ–¹æ³•[è¯¦è§ï¼š[Mutable Sequence Types](https://docs.python.org/zh-cn/3/library/stdtypes.html#typesseq-mutable)]ï¼Œå¹¶ä¸”è¿˜åŒ…å« `bytes` ç±»å‹ä¸­çš„å¤§å¤šæ•°æ–¹æ³•[è¯¦è§ï¼š[Bytes and Bytearray Operations](https://docs.python.org/3/library/stdtypes.html#bytes-methods)]

å¯é€‰å½¢å‚ *source* å¯ä»¥ç”¨ä¸åŒçš„æ–¹å¼æ¥åˆå§‹åŒ–æ•°ç»„
- å¦‚æœæ²¡æœ‰ä»»ä½•å‚æ•°æ—¶ï¼Œå°†åˆ›å»ºä¸€ä¸ªç©ºå®ä¾‹ï¼ˆåˆå§‹åŒ–æ•°ç»„ä¸º 0 ä¸ªå…ƒç´ ï¼‰
```python
# bytearray() -> empty bytes array
>>> bytearray()
bytearray(b'')
```
- å¦‚æœ *source* æ˜¯ä¸€ä¸ª`integer` æ—¶ï¼Œå°†åˆ›å»ºä¸€ä¸ªé•¿åº¦ä¸º `source` ä¸”æ¯ä¸ªå­—èŠ‚å‡ä¸ºç©ºçš„ bytearray å¯¹è±¡
```python
>>> bytearray(5)
# bytearray(int) -> bytearray
bytearray(b'\x00\x00\x00\x00\x00')
```
- *source* æ˜¯å¯è¿­ä»£å¯¹è±¡ï¼Œä¸”å…ƒç´ å¿…é¡»ä¸º `[0, 255]` ä¸­çš„æ•´æ•°ï¼Œè¯¥å¯¹è±¡ä¼šè¢«ç”¨åšæ•°ç»„çš„åˆå§‹å†…å®¹
```python
# bytearray(iterable_of_ints) -> bytearray
>>> bytearray(range(5))
bytearray(b'\x00\x01\x02\x03\x04')
>>> bytearray([1,2,3,4,5])
bytearray(b'\x01\x02\x03\x04\x05')
```
- å¦‚æœ *source* æ˜¯ä¸€ä¸ª `bytes` å¯¹è±¡ï¼Œå°†é€šè¿‡ç¼“å†²å™¨åè®®(buffer protocol)å¤åˆ¶å…¶ä¸­çš„äºŒè¿›åˆ¶æ•°æ®
```python
# bytearray(bytes) -> mutable copy of bytes
>>> bytearray(b'Hi!')
bytearray(b'Hi!')
```
- å¦‚æœ *source* æ˜¯ä¸€ä¸ªå®ç°äº†ç¼“å†²åŒº(buffer) API çš„å¯¹è±¡æ—¶ï¼Œåˆ™ä¼šä½¿ç”¨ *source* çš„åªè¯»ç¼“å†²åŒºæ¥åˆå§‹åŒ– bytearray å¯¹è±¡ã€‚
```python
# bytearray(buffer) -> mutable copy of buffer
```
- *source* æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æ—¶ï¼Œå¿…é¡»ç»™å®š `encoding` å‚æ•°ã€‚æ­¤æ—¶ï¼Œæ„é€ å‡½æ•° `bytearray()` ä¼šé€šè¿‡ `str.encode()` æ–¹æ³•å°† *source* ç¼–ç (encoding)ä¸ºå­—èŠ‚åºåˆ—ã€‚
    - *encoding* å‚æ•°ç”¨äºè®¾ç½®ç¼–ç æ–¹æ¡ˆï¼Œä¼šè¢«ä¼ é€’ç»™ `str.encode()`ã€‚åœ¨ [Standard Encodings](https://docs.python.org/3.7/library/codecs.html#standard-encodings) ä¸­å¯æŸ¥çœ‹ç¼–ç æ–¹æ¡ˆåˆ—è¡¨ã€‚
    - *errors* å‚æ•°ç”¨äºè®¾ç½®[é”™è¯¯å¤„ç†æ–¹æ¡ˆ](https://docs.python.org/3.7/library/codecs.html#error-handlers)ï¼Œä¹Ÿä¼šè¢«ä¼ é€’ç»™ `str.encode()`ã€‚å¦‚æœ *errors* ä¸ºç©ºï¼Œ`str.encode()` ä¼šä½¿ç”¨é»˜è®¤æ–¹æ¡ˆ `'strict'`â€”â€”è¯¥æ–¹æ¡ˆåœ¨å‡ºç°ç¼–ç é”™è¯¯æ—¶ä¼šæŠ›å‡º `UnicodeError`ã€‚*errors* å¯ä»¥æ˜¯ `'ignore'`, `'replace'`, `'xmlcharrefreplace'`, `'backslashreplace'` æˆ–ä»»ä½•å·²é€šè¿‡ `codecs.register_error()` æ³¨å†Œçš„åç§°ã€‚
```python
# bytearray(string, encoding[, errors]) -> bytearray
>>> bytearray('abcd','utf-8')
bytearray(b'abcd')
>>> bytearray('é²¸','utf-8')
bytearray(b'\xe9\xb2\xb8')

>>> bytearray('é²¸','ascii')
Traceback (most recent call last):
  File "<pyshell#11>", line 1, in <module>
    bytearray('é²¸','ascii')
UnicodeEncodeError: 'ascii' codec can't encode character '\u9cb8' in position 0: ordinal not in range(128)
>>> bytearray('é²¸','ascii','ignore')
bytearray(b'')
```

## *class* bytes([*source*[, *encoding*[, *errors*]]])

è¿”å›ä¸€ä¸ªæ–°çš„ç”± `bytes` æ„æˆçš„ä¸å¯å˜åºåˆ—ã€‚åŒ…å«èŒƒå›´ä¸º `0 <= x < 256` çš„æ•´æ•°ã€‚bytes æ˜¯ bytearray çš„ä¸å¯å˜ç‰ˆæœ¬ï¼Œæ‹¥æœ‰å…¶ä¸­ä¸æ”¹å˜åºåˆ—çš„æ–¹æ³•å’Œç›¸åŒçš„ç´¢å¼•ã€åˆ‡ç‰‡æ“ä½œã€‚
æ„é€ å‡½æ•°çš„å®å‚å’Œ `bytearray()` ç›¸åŒ

## callable(*object*)

`callable()` å‡½æ•°ç”¨äºæ£€æŸ¥ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯å¯è°ƒç”¨çš„ã€‚å¦‚æœè¿”å› `True`, `object` ä»ç„¶å¯èƒ½è°ƒç”¨å¤±è´¥ï¼›ä½†å¦‚æœè¿”å› `False`, è°ƒç”¨å¯¹è±¡ `object` ç»ä¸ä¼šæˆåŠŸã€‚
éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ**ç±»** æ˜¯å¯è°ƒç”¨çš„ï¼ˆè°ƒç”¨ç±»å°†è¿”å›ä¸€ä¸ªæ–°çš„å®ä¾‹ï¼‰; å¦‚æœ **å®ä¾‹** æ‰€å±çš„ç±»æœ‰`__call__()` æ–¹æ³•ï¼Œåˆ™å®ƒå°±æ˜¯å¯è°ƒç”¨çš„ï¼Œå¦åˆ™å°±æ˜¯ä¸å¯è°ƒç”¨

```python
>>> callable(0)
False
>>> callable('runoob')
False

>>> def add(a,b)
...     return a+b
...
>>>callable(add)    #å‡½æ•°è¿”å› True  
True

>>> class A:
...     def method(self):
...         return 0
...
>>> callable(A)    #ç±»å¯è°ƒç”¨è¿”å› True
True
>>> a = A()
>>> callable(a)    #ç±»æ²¡æœ‰å®ç° __call__, å®ä¾‹ä¸å¯è°ƒç”¨ï¼Œè¿”å› False
False

>>> class B:
...     def __call__(self):
...             return 0
... 
>>> callable(B)
True
>>> b = B()
>>> callable(b)    #ç±»å®ç° __call__, å®ä¾‹å¯è°ƒç”¨ï¼Œè¿”å› True
True
```

## chr(*i*)

è¿”å› Unicode ç ä½ä¸º *i* çš„å­—ç¬¦çš„å­—ç¬¦ä¸²æ ¼å¼ï¼Œæ˜¯ `ord()` çš„é€†å‡½æ•°ã€‚

*i* å¯ä»¥è¯´ 10 è¿›åˆ¶ä¹Ÿå¯ä»¥æ˜¯ 16 è¿›åˆ¶å½¢å¼çš„æ•°å­—, æ•°å­—èŒƒå›´ä¸º 0 åˆ° 1,114,111 (16 è¿›åˆ¶ä¸º0x10FFFF)ã€‚

```python
>>>chr(0x30)
'0'
>>> chr(97) 
'a'
>>> chr(8364)
'â‚¬'
```

é™„ï¼šASCII ç å¯¹ç…§è¡¨

![img](https://gss3.bdstatic.com/-Po3dSag_xI4khGkpoWK1HF6hhy/baike/c0%3Dbaike116%2C5%2C5%2C116%2C38/sign=a8288ae7fc1fbe090853cb460a096756/e850352ac65c103880a07b53bc119313b17e8941.jpg)



## @classmethod

æŠŠä¸€ä¸ªæ–¹æ³•å°è£…æˆç±»æ–¹æ³•ï¼ˆä¸ç”¨å®ä¾‹åŒ–å¯ç›´æ¥è°ƒç”¨ã€‚ï¼‰

`classmethod` ä¿®é¥°ç¬¦å¯¹åº”çš„å‡½æ•°ä¸éœ€è¦å®ä¾‹åŒ–ï¼Œä¸éœ€è¦ `self` å‚æ•°ï¼Œä½†ç¬¬ä¸€ä¸ªå‚æ•°éœ€è¦æ˜¯è¡¨ç¤ºè‡ªèº«ç±»çš„ `cls` å‚æ•°ï¼ˆç±»ä¼¼å®ä¾‹æ–¹æ³•ï¼‰ï¼Œå¯ä»¥æ¥è°ƒç”¨ç±»çš„å±æ€§ï¼Œç±»çš„æ–¹æ³•ï¼Œå®ä¾‹åŒ–å¯¹è±¡ç­‰ã€‚

ç±»æ–¹æ³•çš„è°ƒç”¨æœ‰ä¸¤ç§ï¼Œä¸€ç§æ˜¯ç±»ç›´æ¥è°ƒç”¨(`A.func2()`)ï¼Œä¸€ç§æ˜¯å®ä¾‹è°ƒç”¨(`A().func2()`)
```python
class A(object):
    # å±æ€§é»˜è®¤ä¸ºç±»å±æ€§ï¼ˆå¯ä»¥ç»™ç›´æ¥è¢«ç±»æœ¬èº«è°ƒç”¨ï¼‰
    bar = 1
    
    # å®ä¾‹åŒ–æ–¹æ³•ï¼ˆå¿…é¡»å®ä¾‹åŒ–ç±»ä¹‹åæ‰èƒ½è¢«è°ƒç”¨ï¼‰
    def func1(self):  # self : è¡¨ç¤ºå®ä¾‹åŒ–ç±»åçš„åœ°å€id
        print ('foo') 
    
    # ç±»æ–¹æ³•ï¼ˆä¸éœ€è¦å®ä¾‹åŒ–ç±»å°±å¯ä»¥è¢«ç±»æœ¬èº«è°ƒç”¨ï¼‰
    @classmethod
    def func2(cls):  # cls: ç±»æœ¬èº«
        print ('func2')
        print (cls.bar)  # è°ƒç”¨ bar ç±»å±æ€§
        cls().func1()   # è°ƒç”¨ foo æ–¹æ³•
	
    # ä¸ä¼ é€’ä¼ é€’é»˜è®¤selfå‚æ•°çš„æ–¹æ³•ï¼ˆè¯¥æ–¹æ³•ä¹Ÿæ˜¯å¯ä»¥ç›´æ¥è¢«ç±»è°ƒç”¨çš„ï¼Œä½†æ˜¯è¿™æ ·åšä¸æ ‡å‡†ï¼‰
    def func3():
        print('func3')
        print(A.bar)  # å±æ€§æ˜¯å¯ä»¥ç›´æ¥ç”¨ç±»æœ¬èº«è°ƒç”¨çš„



A.func2()        # ä¸éœ€è¦å®ä¾‹åŒ–ç›´æ¥è°ƒç”¨
# Output: func2
#         1
#         foo

A().func2()      # å®ä¾‹è°ƒç”¨
# Output: func2
#         1
#         foo

A.func3()        # ä¸ä¼ é€’selfå‚ï¼Œç±»ç›´æ¥è°ƒç”¨
```

## compile(*source*, *filename*, *mode*, *flags=0*, *dont_inherit=False*, *optimize=-1* )

å°† *source* ç¼–è¯‘æˆä»£ç æˆ– AST å¯¹è±¡ã€‚ä»£ç å¯¹è±¡å¯ä»¥è¢« `exec()` æˆ– `eval()` æ‰§è¡Œã€‚

å‚æ•°ï¼š



- *source* -- å­—ç¬¦ä¸²æˆ–è€… AST ï¼ˆAbstract Syntax Treesï¼‰å¯¹è±¡ã€‚

- *filename* -- ä»£ç æ–‡ä»¶åç§°ï¼Œå¦‚æœä¸æ˜¯ä»æ–‡ä»¶è¯»å–ä»£ç åˆ™ä¼ é€’ä¸€äº›å¯è¾¨è®¤çš„å€¼ï¼ˆç»å¸¸ä¼šä½¿ç”¨ '<string>'ï¼‰ã€‚

- *mode* -- æŒ‡å®šç¼–è¯‘ä»£ç çš„ç§ç±»ã€‚å¦‚æœ *source* æ˜¯è¯­å¥åºåˆ—ï¼Œå¯ä»¥æ˜¯ `'exec'`ï¼›å¦‚æœæ˜¯å•ä¸€è¡¨è¾¾å¼ï¼Œå¯ä»¥æ˜¯`'eval'`ï¼›å¦‚æœæ˜¯å•ä¸ªäº¤äº’å¼è¯­å¥ï¼Œå¯ä»¥ä½¿ `'single'`ã€‚ï¼ˆåœ¨æœ€åä¸€ç§æƒ…å†µä¸‹ï¼Œå¦‚æœè¡¨è¾¾å¼æ‰§è¡Œç»“æœä¸æ˜¯ `None` å°†ä¼šè¢«æ‰“å°å‡ºæ¥ï¼›å¦‚æœè¯¥å‚æ•°ä¸º `'exec'`ï¼Œç”¨ `eval()` æ‰§è¡Œä»£ç å¯¹è±¡å°†è¿”å› `None`ï¼› åœ¨ `'single'` æˆ– `'eval'` æ¨¡å¼ç¼–è¯‘å¤šè¡Œä»£ç å­—ç¬¦ä¸²æ—¶ï¼Œè¾“å…¥å¿…é¡»ä»¥è‡³å°‘ä¸€ä¸ªæ¢è¡Œç¬¦ç»“å°¾ï¼Œè¿™ä½¿ code æ¨¡å—æ›´å®¹æ˜“æ£€æµ‹è¯­å¥çš„å®Œæ•´æ€§ã€‚ï¼‰

- *flags*ã€*dont_inherit* æ§åˆ¶åœ¨ç¼–è¯‘ *source* æ—¶è¦ç”¨åˆ°å“ªä¸ª future è¯­å¥ã€‚ å¦‚æœä¸¤è€…éƒ½æœªæä¾›ï¼ˆæˆ–éƒ½ä¸ºé›¶ï¼‰åˆ™ä¼šä½¿ç”¨è°ƒç”¨ `compile()` çš„ä»£ç ä¸­æœ‰æ•ˆçš„ future è¯­å¥æ¥ç¼–è¯‘ä»£ç ã€‚ å¦‚æœç»™å‡ºäº† *flags* å‚æ•°ä½†æ²¡æœ‰ *dont_inherit* (æˆ–æ˜¯ä¸ºé›¶) åˆ™ *flags* å‚æ•°æ‰€æŒ‡å®šçš„ ä»¥åŠé‚£äº›æ— è®ºå¦‚ä½•éƒ½æœ‰æ•ˆçš„ future è¯­å¥ä¼šè¢«ä½¿ç”¨ã€‚ å¦‚æœ *dont_inherit* ä¸ºä¸€ä¸ªéé›¶æ•´æ•°ï¼Œåˆ™åªä½¿ç”¨ *flags* å‚æ•° -- åœ¨è°ƒç”¨å¤–å›´æœ‰æ•ˆçš„ future è¯­å¥å°†è¢«å¿½ç•¥

- *flags* -- è¿˜ä¼šæ§åˆ¶æ˜¯å¦å…è®¸ç¼–è¯‘çš„æºç ä¸­åŒ…å«æœ€é«˜å±‚çº§ `await`, `async for` å’Œ `async with`ã€‚ å½“è®¾å®šäº†æ¯”ç‰¹ä½ `ast.PyCF_ALLOW_TOP_LEVEL_AWAIT` æ—¶ï¼Œæ‰€è¿”å›ä»£ç å¯¹è±¡åœ¨ `co_code` ä¸­è®¾å®šäº† `CO_COROUTINE`ï¼Œå¹¶å¯é€šè¿‡ `await eval(code_object)` äº¤äº’å¼åœ°æ‰§è¡Œã€‚

- *optimize* -- æŒ‡å®šç¼–è¯‘å™¨çš„ä¼˜åŒ–çº§åˆ«ï¼›é»˜è®¤å€¼ `-1` é€‰æ‹©ä¸è§£é‡Šå™¨çš„` -O` é€‰é¡¹ç›¸åŒçš„ä¼˜åŒ–çº§åˆ«ã€‚æ˜¾å¼çº§åˆ«ä¸º `0` ï¼ˆæ²¡æœ‰ä¼˜åŒ–ï¼›`__debug__` ä¸ºçœŸï¼‰ã€`1` ï¼ˆæ–­è¨€è¢«åˆ é™¤ï¼Œ `__debug__` ä¸ºå‡ï¼‰æˆ–` 2` ï¼ˆæ–‡æ¡£å­—ç¬¦ä¸²ä¹Ÿè¢«åˆ é™¤ï¼‰ã€‚

å¦‚æœç¼–è¯‘çš„æºç ä¸åˆæ³•ï¼Œæ­¤å‡½æ•°ä¼šè§¦å‘ [`SyntaxError`](https://docs.python.org/zh-cn/3/library/exceptions.html#SyntaxError) å¼‚å¸¸ï¼›å¦‚æœæºç åŒ…å« null å­—èŠ‚ï¼Œåˆ™ä¼šè§¦å‘ [`ValueError`](https://docs.python.org/zh-cn/3/library/exceptions.html#ValueError) å¼‚å¸¸ã€‚

```python
>>> str = 'for i in range(5): print(i)'
>>> c = compile(str, '', 'exec')  #ç¼–è¯‘ä¸ºå­—èŠ‚ä»£ç å¯¹è±¡
>>> c
<code object <module> at 0x000001DEBB858E40, file "", line 1>
>>>exec(c)
0
1
2
3
4
>>> str = '3*4+5'
>>> a = compile(str, '', 'eval')
>>> eval(a)
17
```

## *class* complex([real[,imag]])

åˆ›å»ºä¸€ä¸ªå€¼ä¸º **`real + imag*j`** çš„å¤æ•°ï¼Œæˆ–è€…å°†å­—ç¬¦ä¸²æˆ–æ•°å­—è½¬æ¢ä¸ºå¤æ•°ã€‚

å¦‚æœç¬¬ä¸€ä¸ªå‚æ•°ä¸ºå­—ç¬¦ä¸²ï¼Œåˆ™ä¸éœ€è¦æŒ‡å®šç¬¬äºŒä¸ªå‚æ•°ï¼›å­—ç¬¦ä¸²åœ¨ `+` æˆ– `-` ä¹‹é—´ä¸èƒ½æœ‰ç©ºæ ¼ï¼Œå¦åˆ™è§¦å‘ `ValueError` å¼‚å¸¸ã€‚

ç¬¬äºŒä¸ªå½¢å‚ä¸èƒ½æ˜¯å­—ç¬¦ä¸²ã€‚

æ¯ä¸ªå®å‚éƒ½å¯ä»¥æ˜¯ä»»æ„çš„æ•°å€¼ç±»å‹ï¼ˆåŒ…æ‹¬å¤æ•°ï¼‰ã€‚å¦‚æœçœç•¥äº† *imag*, åˆ™é»˜è®¤å€¼ä¸ºé›¶ï¼Œæ„é€ å‡½æ•°ä¼šåƒ `int` å’Œ `float` ä¸€æ ·è¿›è¡Œæ•°å€¼è½¬æ¢ã€‚å¦‚æœä¸¤ä¸ªå®å‚éƒ½çœç•¥ï¼Œåˆ™è¿”å› `0j`

```python
>>> complex(1,2)  # real,imagå®å‚å‡ä¸ºæ•°å€¼
(1+2j)
>>> complex(2+3j,3)
(2+6j)
>>> complex(2+3j,3j)
(-1+3j)
>>> complex(1)   #åªæœ‰ real å®å‚
(1+0j)
>>> complex('1')  #real ä¸ºå­—ç¬¦ä¸²
(1+0j)
>>> complex('3+4j') # '+','-' ä¸¤è¾¹ä¸èƒ½æœ‰ç©ºæ ¼
(3+4j)
```

å¦‚æœ *real* æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œ`complex(real, imag)` å°†è°ƒç”¨å¯¹è±¡çš„ `__complex__()`æ–¹æ³•ï¼Œå³ `real.__complex__()`ï¼›å¦‚æœ `__complex__()` æœªå®šä¹‰ï¼Œåˆ™è°ƒç”¨ `__float__` æ–¹æ³•ã€‚å¦åˆ™æŠ¥ `TypeError` å¼‚å¸¸ ï¼ˆ3.8 ç‰ˆæœ¬æ·»åŠ äº†å¦‚æœ `__float__` ä¹Ÿæœªå®šä¹‰ï¼Œåˆ™è°ƒç”¨`__index__()`ï¼Œå¦åˆ™æŠ¥ `TypeError` å¼‚å¸¸ï¼‰

```python
# real ä¸ºå®ç° __complex__ æ–¹æ³•çš„å¯¹è±¡
# complex(real,imag)ç­‰æ•ˆäº real.__complex__()+img*1j
>>> class Sample:    
... 	def __complex___(self):
... 		return 6+6j
... 
>>> complex(Sample(),3)
(6+9j)
>>> complex(Sample(),3j)
(3+6j)

# real å¯¹è±¡æ²¡æœ‰å®ç° __complex__() æ–¹æ³•åˆ™è°ƒç”¨ __float__ æ–¹æ³•
# complex(real,imag)ç­‰æ•ˆäº real.__float__()+img*1j
>>> class Sample:
... 	def __float__(self):
... 		return 3.5
...
>>> complex(Sample(),3)
(3.5+3j)
>>> complex(Sample(),3j)
(0.5+0j)
```

å¦‚æœ *imag* æ˜¯ä¸€ä¸ªå®ç°äº† `__float__()` æ–¹æ³•çš„å¯¹è±¡ï¼Œæ­¤æ—¶ `complex(real,imag)` ç­‰æ•ˆäº `real + imag.__float__()*1j`ã€‚å¦‚æœæ²¡æœ‰å®ç° `__float__()` æ–¹æ³•åˆ™æŠ›å‡ºå¼‚å¸¸

```python
# imag ä¸ºå®ç° __float__() æ–¹æ³•çš„å¯¹è±¡
>>> class Sample:
...     def __complex__(self):
...     	return 3+3j
...     def __float__(self):
... 		return 3.5
>>> complex(3+4j, Sample())
(3+7.5j)    #ä»ç»“æœçœ‹ imagä¸ºå¯¹è±¡æ—¶ï¼Œé»˜è®¤è°ƒç”¨ __float__() æ–¹æ³•ï¼ˆåªè°ƒè¯¥æ–¹æ³•ï¼‰
```

complex ç±»å‹æ”¯æŒä»¥ä¸‹æ“ä½œï¼š

- æ”¯æŒ `complex` å’Œ `bool` è½¬æ¢
- æ”¯æŒ `real`ã€`imag`ã€`+/-/*//`ã€`abs()`ã€`conjugate()` ç­‰
- æ”¯æŒ `==` å’Œ `!=`

```python
>>> bool(0j)  # å¸ƒå°”è½¬åŒ–
False
>>> (1+3j).real  #æŠ½è±¡æ–¹æ³•ï¼Œæ£€ç´¢å®éƒ¨
1.0
>>> (1+3j).imag  #æŠ½è±¡æ–¹æ³•ï¼Œæ£€ç´¢è™šéƒ¨
3.0
>>> (1+3j).conjugate()   #æŠ½è±¡æ–¹æ³•ï¼Œè¿”å›å…±è½­å¤æ•°
1-3j
>>> abs(3+4j)  #è¿”å›å¤æ•°çš„æ¨¡
5.0
>>> (1+3j).conjugate()==1-3j
True
```



## delattr(*object*, *name*)

ä¸ `setattr()` ç›¸å¯¹çš„å‡½æ•°ï¼Œç”¨äºåˆ é™¤å¯¹è±¡å±æ€§ã€‚å‚æ•°æ˜¯ä¸€ä¸ªå¯¹è±¡å’Œå­—ç¬¦ä¸²ï¼Œè¿™ä¸ªå­—ç¬¦ä¸²å¿…é¡»æ˜¯è¯¥å¯¹è±¡çš„å±æ€§ã€‚å¦‚æœå¯¹è±¡å…è®¸ï¼Œå‡½æ•°å°†åˆ é™¤æŒ‡å®šçš„å±æ€§ã€‚`delattr(x, 'foobar)` ç­‰æ•ˆäº `del x.foobar`

```python
class Sample():
    x=1
    y=2
    z=3
print(Sample.x)
print(Sample.y)
print(Sample.z)
# Output: 1
#		  2
#		  3

delattr(Sample,'z')
print(Sample.z)
# Output: AttributeError: type object 'Sample' has no attribute 'x'

del Sample.y
print(Sample.y)
# Output: AttributeError: type object 'Sample' has no attribute 'y'

```

## dict()

`dict()` å‡½æ•°ç”¨æ¥åˆ›å»ºä¸€ä¸ªå­—å…¸ï¼Œdict å¯¹è±¡æ˜¯ä¸€ä¸ªå­—å…¸ç±»

è¯­æ³•ï¼š

- *class* dict(*\*\*kwarg*)
- *class* dict(**mapping*, *\*\*kwarg*)
- *class* dict(*iterable*, *\*\*kwarg*)

å‚æ•°è¯´æ˜ï¼š

- **kwargs -- å…³é”®å­—
- mapping -- å…ƒç´ çš„å®¹å™¨
- iterable -- å¯è¿­ä»£å¯¹è±¡

```python
>>> dict()  # åˆ›å»ºç©ºå­—å…¸
{}
>>> dict['a']=1   #ç›´æ¥èµ‹å€¼
>>> dict = {'a':1,'b':2}

>>> dict(a='a', b='b')  # ä¼ å…¥å…³é”®å­—
{'a':'a', 'b':'b'}
>>> dict(zip(['a','b','c'],[1,2,3]))  # ä¼ å…¥æ˜ å°„å‡½æ•°
{'a': 1, 'b': 2, 'c': 3}
>>> dict([('a', 1), ('b', 2), ('c', 3)]) #ä¼ å…¥å¯è¿­ä»£å¯¹è±¡
{'a': 1, 'b': 2, 'c': 3}
>>> dict((['a',1],['b',2]))  #ä¼ å…¥å¯è¿­ä»£å¯¹è±¡
{'a': 1, 'b': 2}
```

## dir()

`dir()` å‡½æ•°ä¸å¸¦å‚æ•°æ—¶ï¼Œè¿”å›å½“å‰èŒƒå›´å†…çš„å˜é‡ã€æ–¹æ³•å’Œå®šä¹‰çš„ç±»å‹åˆ—è¡¨ï¼›å¸¦å‚æ•°æ—¶ï¼Œè¿”å›å‚æ•°çš„å±æ€§ã€æ–¹æ³•åˆ—è¡¨ã€‚

å¦‚æœå‚æ•°åŒ…å«æ–¹æ³•`__dir__()`ï¼Œè¯¥æ–¹æ³•å°†è¢«è°ƒç”¨ï¼Œå¹¶ä¸”è¿”å›ä¸€ä¸ªå±æ€§åˆ—è¡¨ã€‚è¿™å…è®¸å®ç°è‡ªå®šä¹‰ `__getattr__()` æˆ– `__getattribute__()` å‡½æ•°çš„å¯¹è±¡èƒ½å¤Ÿè‡ªå®šä¹‰ `dir()` æ¥æŠ¥å‘Šå®ƒä»¬çš„å±æ€§ã€‚

å¦‚æœå‚æ•°ä¸åŒ…å« `__dir__()`ï¼Œè¯¥æ–¹æ³•å°†æœ€å¤§é™åº¦åœ°æ”¶é›†å‚æ•°ä¿¡æ¯ã€‚ç»“æœåˆ—è¡¨å¹¶ä¸æ€»æ˜¯å®Œæ•´çš„ï¼Œå¦‚æœå¯¹è±¡å®šä¹‰ `__getattr__()`ï¼Œç»“æœå¯èƒ½ä¸å‡†ç¡®



```python
>>> dir()  #è·å–å½“å‰æ¨¡å—å±æ€§åˆ—è¡¨
['__annotations__', '__builtins__', '__doc__', '__loader__', '__name__', '__package__', '__spec__']

>>> dir([])  #è·å–åˆ—è¡¨å¯¹è±¡çš„æ–¹æ³•
['__add__', '__class__', '__contains__', '__delattr__', '__delitem__', '__delslice__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getslice__', '__gt__', '__hash__', '__iadd__', '__imul__', '__init__', '__iter__', '__le__', '__len__', '__lt__', '__mul__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__reversed__', '__rmul__', '__setattr__', '__setitem__', '__setslice__', '__sizeof__', '__str__', '__subclasshook__', 'append', 'count', 'extend', 'index', 'insert', 'pop', 'remove', 'reverse', 'sort']
```

é»˜è®¤çš„ [`dir()`](https://docs.python.org/zh-cn/3/library/functions.html#dir) æœºåˆ¶å¯¹ä¸åŒç±»å‹çš„å¯¹è±¡è¡Œä¸ºä¸åŒï¼Œå®ƒä¼šè¯•å›¾è¿”å›æœ€ç›¸å…³è€Œä¸æ˜¯æœ€å…¨çš„ä¿¡æ¯ï¼š

- å¦‚æœå¯¹è±¡æ˜¯æ¨¡å—å¯¹è±¡ï¼Œåˆ™åˆ—è¡¨åŒ…å«æ¨¡å—çš„å±æ€§åç§°ã€‚
- å¦‚æœå¯¹è±¡æ˜¯ç±»å‹æˆ–ç±»å¯¹è±¡ï¼Œåˆ™åˆ—è¡¨åŒ…å«å®ƒä»¬çš„å±æ€§åç§°ï¼Œå¹¶ä¸”é€’å½’æŸ¥æ‰¾æ‰€æœ‰åŸºç±»çš„å±æ€§ã€‚
- å¦åˆ™ï¼Œåˆ—è¡¨åŒ…å«å¯¹è±¡çš„å±æ€§åç§°ï¼Œå®ƒçš„ç±»å±æ€§åç§°ï¼Œå¹¶ä¸”é€’å½’æŸ¥æ‰¾å®ƒçš„ç±»çš„æ‰€æœ‰åŸºç±»çš„å±æ€§ã€‚

è¿”å›çš„åˆ—è¡¨æŒ‰å­—æ¯è¡¨æ’åºã€‚ä¾‹å¦‚ï¼š

```python
>>> import struct
>>> dir()   # show the names in the module namespace  # doctest: +SKIP
['__builtins__', '__name__', 'struct']
>>> dir(struct)   # show the names in the struct module # doctest: +SKIP
['Struct', '__all__', '__builtins__', '__cached__', '__doc__', '__file__',
 '__initializing__', '__loader__', '__name__', '__package__',
 '_clearcache', 'calcsize', 'error', 'pack', 'pack_into',
 'unpack', 'unpack_from']
>>> class Shape:
...     def __dir__(self):
...         return ['area', 'perimeter', 'location']
>>> s = Shape()
>>> dir(s)  # å‚æ•°ä¸ºå®ä¾‹æ—¶ï¼Œè°ƒç”¨å¯¹è±¡çš„ __dir__() æ–¹æ³•
['area', 'location', 'perimeter']
>>> dir(Shape)  # å‚æ•°ä¸ºç±»å¯¹è±¡æ—¶ï¼Œé€’å½’åŸºç±»çš„å±æ€§
['__class__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__sizeof__', '__str__', '__subclasshook__', '__weakref__']
>>> dir(object) # åŸºç±»å±æ€§
['__class__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__sizeof__', '__str__', '__subclasshook__']
```

## divmod(*a*, *b*)

æ¥æ”¶ä¸¤ä¸ªæ•°å­—ç±»å‹ï¼ˆéå¤æ•°ï¼‰å‚æ•°ï¼Œè¿”å›ä¸€ä¸ªåŒ…å«å•†å’Œä½™æ•°çš„å…ƒç¥– `(a // b, a % b)`

- å¦‚æœ *a* å’Œ *b* éƒ½æ˜¯æ•´æ•°ï¼Œå‡½æ•°è¿”å›ç»“æœç›¸å½“äº `(a // b, a % b)`
- å¦‚æœå…¶ä¸­ä¸€ä¸ªå‚æ•°ä¸ºæµ®ç‚¹æ•°ï¼Œå‡½æ•°è¿”å›ç»“æœç›¸å½“äº `(q, a % b)`ï¼Œq é€šå¸¸æ˜¯ `math.floor(a/b)`ï¼Œä½†ä¹Ÿæœ‰å¯èƒ½ä¼šæ¯” `1` å°ï¼Œä¸è¿‡ `q * b + a % b` ä¼šéå¸¸æ¥è¿‘ `a`
- å¦‚æœ `a % b` éé›¶ï¼Œåˆ™ `a % b` ç¬¦å·åŒ `b` ä¸€è‡´ï¼Œå¹¶ä¸” `0 <= abs(a % b) < abs(b)`

æ³¨ï¼šåœ¨ Python ä¸­ï¼Œ'//â€™ ä¸ºå‘ä¸‹å–æ•´ï¼ˆå‘è´Ÿæ— ç©·æ–¹å‘å–æ•´ï¼‰ï¼Œä¾‹å¦‚ -9/4 = -2.25 ï¼Œ-9//4 å‘ä¸‹å–æ•´ä¸º -3ã€‚å–ä½™è®¡ç®—ä¹Ÿå¯é€šè¿‡å…¬å¼ï¼š`a % b = a - b(a // b)`

```python
>>> divmod(7, 2)
(3, 1)
>>> divmod(8, 2)
(4, 0)
>>> divmod(8, -2)
(-4, 0)
>>> divmod(3, 1.3)
(2.0, 0.3999999999999999)
>>> divmod(-9,4)
(-3,3)
```

## enumerate(*iterable*, start=0)

è¿”å›ä¸€ä¸ªæšä¸¾å¯¹è±¡ï¼Œ*iterable* å‚æ•°å¿…é¡»æ˜¯ä¸€ä¸ªåºåˆ—ã€è¿­ä»£å™¨æˆ–è€…å…¶ä»–æ”¯æŒè¿­ä»£çš„å¯¹è±¡ï¼Œ`enumerate()` è¿”å›çš„è¿­ä»£å™¨çš„`__next__()` æ–¹æ³•è¿”å›ä¸€ä¸ªåŒ…å«è®¡æ•°å€¼å’Œè¿­ä»£å€¼çš„å…ƒç»„ã€‚

```python
>>> seasons = ['Spring', 'Summer', 'Fall', 'Winter']
>>> list(enumerate(seasons))
[(0, 'Spring'), (1, 'Summer'), (2, 'Fall'), (3, 'Winter')]
>>> list(enumerate(seasons, start=1))  #è®¾ç½®åˆå§‹è®¡æ•°å€¼
[(1, 'Spring'), (2, 'Summer'), (3, 'Fall'), (4, 'Winter')]

>>> for index, element in enumerate(seasons):   #ç”¨äºforå¾ªç¯
... 	print(index, element)
...
0 Spring
1 Summer
2 Fall
3 Winter
```

ç­‰ä»·äº

```python
def enumerate(sequence, start=0)
	n = start
	for elem in sequence:
        yield n, elem
        n += 1
```

## eval(*expression*[, *globals*[, *locals*]])

æ‰§è¡Œä¸€ä¸ªå­—ç¬¦ä¸²è¡¨è¾¾å¼ï¼Œå¹¶è¿”å›è¡¨è¾¾å¼çš„å€¼

å‚æ•°ï¼š

- *expression* -- è¡¨è¾¾å¼ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªä»£ç å¯¹è±¡
- *globals* -- å˜é‡ä½œç”¨åŸŸï¼Œå…¨å±€å‘½åç©ºé—´ï¼Œå¦‚æœè¢«æä¾›ï¼Œåˆ™å¿…é¡»æ˜¯ä¸€ä¸ªå­—å…¸å¯¹è±¡
- *locals* -- å˜é‡ä½œç”¨åŸŸï¼Œå±€éƒ¨å‘½åç©ºé—´ï¼Œå¦‚æœè¢«æä¾›ï¼Œå¯ä»¥æ˜¯ä»»ä½•æ˜ å°„å¯¹è±¡ã€‚

*expression* å‚æ•°ä¼šä½œä¸ºä¸€ä¸ª Python è¡¨è¾¾å¼ï¼ˆä»æŠ€æœ¯ä¸Šè¯´æ˜¯ä¸€ä¸ªæ¡ä»¶åˆ—è¡¨ï¼‰è¢«è§£æå¹¶æ±‚å€¼ï¼Œå¹¶ä½¿ç”¨ *globals* å’Œ *locals* å­—å…¸ä½œä¸ºå…¨å±€å’Œå±€éƒ¨å‘½åç©ºé—´ã€‚

 å¦‚æœ *globals* å­—å…¸å­˜åœ¨ä¸”ä¸åŒ…å«ä»¥ `__builtins__` ä¸ºé”®çš„å€¼ï¼Œåˆ™ä¼šåœ¨è§£æ *expression* ä¹‹å‰æ’å…¥ä»¥æ­¤ä¸ºé”®çš„å¯¹å†…ç½®æ¨¡å— `builtins` çš„å¼•ç”¨ã€‚ è¿™æ„å‘³ç€ *expression* é€šå¸¸å…·æœ‰å¯¹æ ‡å‡† `builtins` æ¨¡å—çš„å®Œå…¨è®¿é—®æƒé™ä¸”å—é™çš„ç¯å¢ƒä¼šè¢«ä¼ æ’­ã€‚ 

å¦‚æœçœç•¥ *locals* å­—å…¸åˆ™å…¶é»˜è®¤å€¼ä¸º *globals* å­—å…¸ã€‚

 å¦‚æœä¸¤ä¸ªå­—å…¸åŒæ—¶çœç•¥ï¼Œåˆ™è¡¨è¾¾å¼æ‰§è¡Œæ—¶ä¼šä½¿ç”¨ `eval()` è¢«è°ƒç”¨çš„ç¯å¢ƒä¸­çš„ *globals* å’Œ *locals*ã€‚ è¯·æ³¨æ„ï¼Œ`eval() `å¹¶æ²¡æœ‰å¯¹å¤–å›´ç¯å¢ƒä¸‹çš„ (éå±€éƒ¨) åµŒå¥—ä½œç”¨åŸŸ çš„è®¿é—®æƒé™ã€‚

```python
>>> x=7
>>> eval('3*x') 
21
>>> eval('pow(2,2)')
4
>>> eval('2+2')
4
>>> eval("{'a':1,'b':2}") # å­—å…¸å­—ç¬¦ä¸²è½¬åŒ–ä¸ºå­—å…¸
{'a': 1, 'b': 2}
>>> eval('3+n',{'n':3},{'n':2}) # globals å’Œ locals éƒ½å­˜åœ¨æ˜¯ä¼˜å…ˆæŸ¥æ‰¾ locals
5
>>> n=3
>>> eval('3*n',globals(),{})  # globals() ä»¥å­—å…¸ç±»å‹è¿”å›å½“å‰ä½ç½®å…¨éƒ¨å…¨å±€å˜é‡
9
>>> eval('3*n',{},locals())  #locals() ä»¥å­—å…¸ç±»å‹è¿”å›å½“å‰ä½ç½®å…¨éƒ¨å±€éƒ¨å˜é‡
9
```

`eval()` è¿˜ç”¨æ¥æ‰§è¡Œä»»ä½•ä»£ç å¯¹è±¡ï¼ˆå¦‚ `compile()` åˆ›å»ºçš„ ï¼‰ï¼Œæ­¤æ—¶å‚æ•°ä¸ºä»£ç å¯¹è±¡ï¼Œè€Œä¸æ˜¯å­—ç¬¦ä¸²ã€‚å¦‚æœç¼–è¯‘è¯¥å¯¹è±¡æ—¶çš„ *mode* å®å‚æ˜¯ `'exec'` é‚£ä¹ˆ `eval()`è¿”å›å€¼ä¸º `None` ã€‚

`exec()` å‡½æ•°æ”¯æŒåŠ¨æ€æ‰§è¡Œè¯­å¥ã€‚`globals()` å’Œ `locals()` å‡½æ•°å„è‡ªè¿”å›å½“å‰çš„å…¨å±€å’Œæœ¬åœ°å­—å…¸ï¼Œå› æ­¤å¯ä»¥ä¼ é€’ç»™ `eval()` æˆ– `exec()` æ¥ä½¿ç”¨

`eval()` å‡½æ•°å…·æœ‰ä¸€å®šçš„å®‰å…¨éšæ‚£ï¼Œæ¨èä½¿ç”¨æ›´ä¸ºå®‰å…¨çš„æ‰§è¡ŒåŒ…æ‹¬æ–‡å­—çš„è¡¨è¾¾å¼å­—ç¬¦ä¸²çš„ `ast.literal_eval()`

## exec(*object*[, *globals*[, *locals*]])

åŠ¨æ€çš„æ‰§è¡Œå‚¨å­˜åœ¨åœ¨å­—ç¬¦ä¸²æˆ–æ–‡ä»¶ä¸­çš„ Python è¯­å¥ï¼Œç›¸æ¯”äº evalï¼Œexecå¯ä»¥æ‰§è¡Œæ›´å¤æ‚çš„ Python ä»£ç ã€‚

å‚æ•°ï¼š

- *object*ï¼šå¿…é€‰å‚æ•°ï¼Œè¡¨ç¤ºéœ€è¦è¢«æŒ‡å®šçš„ Python ä»£ç ã€‚å®ƒå¿…é¡»æ˜¯å­—ç¬¦ä¸²æˆ– code å¯¹è±¡ã€‚å¦‚æœ *object* æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¯¥å­—ç¬¦ä¸²ä¼šå…ˆè¢«è§£æä¸ºä¸€ç»„ Python è¯­å¥ï¼Œç„¶ååœ¨æ‰§è¡Œï¼ˆé™¤éå‘ç”Ÿè¯­æ³•é”™è¯¯ï¼‰ã€‚å¦‚æœ*object* æ˜¯ä¸€ä¸ªcodeå¯¹è±¡ï¼Œé‚£ä¹ˆå®ƒåªæ˜¯è¢«ç®€å•çš„æ‰§è¡Œã€‚
- *globals*ï¼šå¯é€‰å‚æ•°ï¼Œè¡¨ç¤ºå…¨å±€å‘½åç©ºé—´ï¼ˆå­˜æ”¾å…¨å±€å˜é‡ï¼‰ï¼Œå¦‚æœè¢«æä¾›ï¼Œåˆ™å¿…é¡»æ˜¯ä¸€ä¸ªå­—å…¸å¯¹è±¡ã€‚
- *locals*ï¼šå¯é€‰å‚æ•°ï¼Œè¡¨ç¤ºå½“å‰å±€éƒ¨å‘½åç©ºé—´ï¼ˆå­˜æ”¾å±€éƒ¨å˜é‡ï¼‰ï¼Œå¦‚æœè¢«æä¾›ï¼Œå¯ä»¥æ˜¯ä»»ä½•æ˜ å°„å¯¹è±¡ã€‚å¦‚æœè¯¥å‚æ•°è¢«å¿½ç•¥ï¼Œé‚£ä¹ˆå®ƒå°†ä¼šå–ä¸ *globals *ç›¸åŒçš„å€¼ã€‚

`exec()` çš„è¿”å›å€¼æ°¸è¿œæ˜¯ `None`ã€‚åœ¨ä¼ é€’ç»™ `exec()` å‚æ•°çš„ä»£ç ä¸Šä¸‹æ–‡ä¸­ï¼Œ`return` å’Œ `yield` è¯­å¥ä¸èƒ½å†å‡½æ•°å®šä¹‰ä¹‹å¤–ä½¿ç”¨

å¦‚æœ *globals* å’Œ *locals* éƒ½è¢«çœç•¥ï¼Œä»£ç å°†åœ¨å½“å‰ä½œç”¨åŸŸå†…æ‰§è¡Œã€‚

å¦‚æœåªæœ‰ *globals* å­—å…¸ï¼Œè¯¥å­—å…¸å°†åŒæ—¶è¢«ç”¨äºå…¨å±€å’Œå±€éƒ¨å˜é‡ã€‚

å¦‚æœåŒæ—¶æä¾›äº† *globals* å’Œ *locals*ï¼Œå®ƒä»¬ä¼šåˆ†åˆ«è¢«ç”¨äºå…¨å±€å’Œå±€éƒ¨å˜é‡ã€‚

åœ¨æ¨¡å—å±‚çº§ä¸Šï¼Œ*globals* å’Œ *locals* å°†æ˜¯åŒä¸€ä¸ªå­—å…¸ã€‚ å¦‚æœ exec å¾—åˆ°ä¸¤ä¸ªå•ç‹¬å¯¹è±¡ä½œä¸º *globals* å’Œ *locals*ï¼Œåˆ™ä»£ç å°†å¦‚åŒåµŒå…¥ç±»å®šä¹‰çš„æƒ…å†µä¸€æ ·æ‰§è¡Œã€‚

å¦‚æœ *globals* å­—å…¸ä¸åŒ…å« `__builtins__` é”®å€¼ï¼Œåˆ™å°†ä¸ºè¯¥é”®æ’å…¥å¯¹å†…å»º `builtins` æ¨¡å—å­—å…¸çš„å¼•ç”¨ã€‚å› æ­¤ï¼Œåœ¨å°†æ‰§è¡Œçš„ä»£ç ä¼ é€’ç»™ `exec()` ä¹‹å‰ï¼Œå¯ä»¥é€šè¿‡å°†è‡ªå·±çš„ `__builtins__` å­—å…¸æ’å…¥åˆ° *globals* ä¸­æ¥æ§åˆ¶å¯ä»¥ä½¿ç”¨å“ªäº›å†…ç½®ä»£ç ã€‚

```python
>>>exec('print("Hello World")')
Hello World
# å•è¡Œè¯­å¥å­—ç¬¦ä¸²
>>> exec("print ('runoob.com')")
runoob.com
 
#  å¤šè¡Œè¯­å¥å­—ç¬¦ä¸²
>>> exec ("""for i in range(5):
...     print ("iter time: %d" % i)
... """)
iter time: 0
iter time: 1
iter time: 2
iter time: 3
iter time: 4
```

```python
x = 10
expr = """
z = 30
sum = x + y + z
print(sum)
"""
def func():
    y = 20
    exec(expr)  # çœç•¥ globals å’Œ locals
    exec(expr, {'x': 1, 'y': 2})  # åªæœ‰ globals
    exec(expr, {'x': 1, 'y': 2}, {'y': 3, 'z': 4})  #globals å’Œ locals éƒ½å­˜åœ¨æ—¶
   	# æ­¤æ—¶exprç±»ä¼¼åµŒå¥—å‡½æ•°ï¼Œlocalsä¸ºéå±€éƒ¨å˜é‡
    
func()
# Output: 60
#		  33
#		  34
```

## filter(*function*, *iterable*)

è¿‡æ»¤åºåˆ—ï¼Œè¿‡æ»¤æ‰ä¸ç¬¦åˆæ¡ä»¶çš„å…ƒç´ ï¼Œè¿”å›ä¸€ä¸ªè¿­ä»£å™¨å¯¹è±¡ï¼Œå¦‚æœè¦è½¬æ¢ä¸ºåˆ—è¡¨ï¼Œå¯ä»¥ä½¿ç”¨ **list()** æ¥è½¬æ¢ã€‚

å°† `iterable` çš„æ¯ä¸ªå…ƒç´ ä½œä¸ºå‚æ•°ä¼ é€’ç»™ `function`å‡½æ•°ï¼Œå‡½æ•°è¿”å› True æˆ– Falseï¼Œå¹¶ç”±è¿”å›ä¸º True çš„å…ƒç´ æ„æˆä¸€ä¸ªæ–°çš„è¿­ä»£å™¨ã€‚

`filter(function, iterable)` ç›¸å½“äºä¸€ä¸ªç”Ÿæˆå™¨è¡¨è¾¾å¼ï¼Œå½“ function ä¸æ˜¯ `None` çš„æ—¶å€™ä¸º `(item for item in iterable if function(item))`ï¼›function æ˜¯ `None` çš„æ—¶å€™ä¸º `(item for item in iterable if item)` ã€‚

```python
#è¿‡æ»¤å‡ºåˆ—è¡¨ä¸­çš„æ‰€æœ‰å¥‡æ•°
tmplist = filter(lambda x:x%2 != 0, [1, 2, 3, 4, 5, 6, 7, 8, 9, 10])
newlist = list(tmplist)
print(newlist)

# Output: [1, 3, 5, 7, 9]
```

**`itertools.filterfalse()`** ä¸º *function* è¿”å› False æ—¶æ‰é€‰å– *iterable* ä¸­å…ƒç´ çš„è¡¥å……å‡½æ•°

ç±»ä¼¼äº

```python
def filterfalse(predicate, iterable):
    if predicate is None:
        predicate = bool
        print(predicate)
    for i in iterable:
        if not predicate(i):  #bool(1)=True,bool(0)=False
            yield i
```

## float([x])

å°†æ•´æ•°æˆ–å­—ç¬¦ä¸²è½¬æ¢ä¸ºæµ®ç‚¹æ•°

å¦‚æœæ²¡æœ‰å®å‚ï¼Œå°†è¿”å› `0.0`

å¦‚æœå®å‚æ˜¯å­—ç¬¦ä¸²ï¼Œåˆ™å®ƒå¿…é¡»æ˜¯åŒ…å«åè¿›åˆ¶æ•°å­—çš„å­—ç¬¦ä¸²ï¼Œå­—ç¬¦ä¸²å‰é¢å¯ä»¥æœ‰ç¬¦å·ï¼Œä¹‹å‰ä¹Ÿå¯ä»¥æœ‰ç©ºæ ¼ï¼Œå¯é€‰çš„ç¬¦å·æœ‰ `'+'` å’Œ `'-'` ï¼› `'+'` å¯¹åˆ›å»ºçš„å€¼æ²¡æœ‰å½±å“ï¼Œç¬¦å·å’Œæ•°å­—ä¹‹é—´ä¸èƒ½æœ‰å…¶ä»–ç¬¦å·ã€‚

å®å‚ä¹Ÿå¯ä»¥æ˜¯ NaNï¼ˆéæ•°å­—ï¼‰ã€æ­£è´Ÿæ— ç©·å¤§çš„å­—ç¬¦ä¸²ã€‚ç¡®åˆ‡åœ°è¯´ï¼Œé™¤å»é¦–å°¾çš„ç©ºæ ¼åï¼Œè¾“å…¥å¿…é¡»éµå¾ªä»¥ä¸‹è¯­æ³•ï¼š

```
sign           ::=  "+" | "-"
infinity       ::=  "Infinity" | "inf"
nan            ::=  "nan"
numeric_value  ::=  floatnumber | infinity | nan
numeric_string ::=  [sign] numeric_value
```

è¿™é‡Œï¼Œ`floatnumber` æ˜¯ Python æµ®ç‚¹æ•°çš„å­—ç¬¦ä¸²å½¢å¼ã€‚å­—æ¯å¤§å°å†™éƒ½å¯ä»¥ï¼Œä¾‹å¦‚ï¼Œâ€œinfâ€ã€â€œInfâ€ã€â€œINFINITYâ€ã€â€œiNfINityâ€ éƒ½å¯ä»¥è¡¨ç¤ºæ­£æ— ç©·å¤§ã€‚

å¦‚æœå®å‚æ˜¯æ•´æ•°æˆ–æµ®ç‚¹æ•°ï¼Œåˆ™è¿”å›å…·æœ‰ç›¸åŒå€¼ï¼ˆåœ¨ Python æµ®ç‚¹ç²¾åº¦èŒƒå›´å†…ï¼‰çš„æµ®ç‚¹æ•°ã€‚å¦‚æœå®å‚åœ¨ Python æµ®ç‚¹ç²¾åº¦èŒƒå›´å¤–ï¼Œåˆ™ä¼šæŠ›å‡º `OverflowError`

å¦‚æœå‚æ•°ä¸º Python å¯¹è±¡ï¼Œ`float(x)` ä¼šè°ƒç”¨ `x.__float__()`ï¼Œå¦‚æœ `__float__()` æœªå®šä¹‰ï¼Œåˆ™è°ƒç”¨å¯¹è±¡çš„ `__index__()` æ–¹æ³•

```python
>>>float(1)
1.0
>>> float(112)
112.0
>>> float(-123.6)
-123.6
>>> float('123')     # å­—ç¬¦ä¸²
123.0
>>> float('  -3 \n')
-3.0

>>> class Sample:
...     def __float__(self):
...         return 3.4
... 
>>> float(Sample())
3.4
```

## format(*value*[, *format_spec*])

å°†å€¼ *value* æŒ‰ç…§ *format_spec* çš„æ ¼å¼æ¥æ ¼å¼åŒ–ï¼Œ*format_spec* çš„è§£é‡Šå–å†³äº *value* å®å‚çš„ç±»å‹ï¼Œä½†å¤§å¤šæ•°å†…ç½®ç±»å‹ä½¿ç”¨æ ‡å‡†æ ¼å¼åŒ–è¯­æ³•ï¼š[Format Specification Mini-Language](https://docs.python.org/3/library/string.html#formatspec)

é»˜è®¤çš„ *format_spec* æ˜¯ä¸€ä¸ªç©ºå­—ç¬¦ä¸²ï¼Œå®ƒé€šå¸¸å’Œè°ƒç”¨ `str(value)` çš„ç»“æœç›¸åŒã€‚

```python
>>> format('test')
'test'
>>>> format(3)
'3'
```



è°ƒç”¨ `format(value, format_spec)` ä¼šè½¬æ¢æˆ `type(value).__format__(value, format_spec)`ï¼Œæ‰€ä»¥å®ä¾‹å­—å…¸ä¸­çš„ `__format__()` æ–¹æ³•å°†ä¸ä¼šè¢«è°ƒç”¨ã€‚å¦‚æœåœ¨å¯¹è±¡ä¸­è¿™ä¸ªæ–¹æ³•ï¼Œä½† *format_spec* ä¸ä¸ºç©ºï¼Œ*format_spec* æˆ–è¿”å›å€¼ä¸æ˜¯å­—ç¬¦ä¸²ï¼Œä¼šè§¦å‘ `TypeError` å¼‚å¸¸

**æ ‡å‡†æ ¼å¼è¯´æ˜ç¬¦** å¦‚ä¸‹

```markdown
format_spec     ::=  [[fill]align][sign][#][0][width][grouping_option][.precision][type]
fill            ::=  <any character>
align           ::=  "<" | ">" | "=" | "^"
sign            ::=  "+" | "-" | " "
width           ::=  digit+
grouping_option ::=  "_" | ","
precision       ::=  digit+
type            ::=  "b" | "c" | "d" | "e" | "E" | "f" | "F" | "g" | "G" | "n" | "o" | "s" | "x" | "X" | "%"
```

***align*** ä¸ºå¯¹é½é€‰é¡¹ï¼Œå„å¯¹é½é€‰é¡¹å«ä¹‰å¦‚ä¸‹ï¼š

| é€‰é¡¹  | æ„ä¹‰                                                         |
| :---- | :----------------------------------------------------------- |
| `'<'` | å¼ºåˆ¶å­—æ®µåœ¨å¯ç”¨ç©ºé—´å†…å·¦å¯¹é½ï¼ˆè¿™æ˜¯å¤§å¤šæ•°å¯¹è±¡çš„é»˜è®¤å€¼ï¼‰ã€‚       |
| `'>'` | å¼ºåˆ¶å­—æ®µåœ¨å¯ç”¨ç©ºé—´å†…å³å¯¹é½ï¼ˆè¿™æ˜¯æ•°å­—çš„é»˜è®¤å€¼ï¼‰ã€‚             |
| `'='` | å¼ºåˆ¶å°†å¡«å……æ”¾ç½®åœ¨ç¬¦å·ï¼ˆå¦‚æœæœ‰ï¼‰ä¹‹åä½†åœ¨æ•°å­—ä¹‹å‰ã€‚è¿™ç”¨äºä»¥â€œ+000000120â€å½¢å¼æ‰“å°å­—æ®µã€‚æ­¤å¯¹é½é€‰é¡¹ä»…å¯¹æ•°å­—ç±»å‹æœ‰æ•ˆã€‚å½“'0'ç´§æ¥åœ¨å­—æ®µå®½åº¦ä¹‹å‰æ—¶ï¼Œå®ƒæˆä¸ºé»˜è®¤å€¼ã€‚ |
| `'^'` | å¼ºåˆ¶å­—æ®µåœ¨å¯ç”¨ç©ºé—´å†…å±…ä¸­ã€‚                                   |

å¦‚æœæŒ‡å®šäº†ä¸€ä¸ªæœ‰æ•ˆçš„ *align* å€¼ï¼Œåˆ™å¯ä»¥åœ¨è¯¥å€¼å‰é¢åŠ ä¸€ä¸ª *fill* å­—ç¬¦ä½œä¸ºå¡«å……å­—ç¬¦ï¼Œå®ƒå¯ä»¥ä¸ºä»»æ„å­—ç¬¦ï¼Œçœç•¥åˆ™é»˜è®¤ä½ç©ºæ ¼ç¬¦

å¯¹é½é€‰é¡¹éœ€å®šä¹‰æœ€å°å­—æ®µå®½åº¦ï¼Œå¦åˆ™å­—æ®µå®½åº¦å°†å§‹ç»ˆä¸å¡«å……å®ƒçš„æ•°æ®å¤§å°ç›¸åŒï¼ˆæ­¤æ—¶å¯¹é½æ²¡æœ‰æ„ä¹‰ï¼‰ã€‚

```python
>>> format('test','<') #ä¸æŒ‡å®šæœ€å°å­—æ®µå®½åº¦ï¼Œæ²¡æœ‰æ„ä¹‰
'test'
>>> format('test', '<10') #çœç•¥fill,é»˜è®¤ç”¨â€˜ â€™å¡«å……
'test      '
>>> format('test', '#<10') #å·¦å¯¹é½
'test######'
>>> format('test', '#^10') #å±…ä¸­
'###test###'
>>> format('test', '#>10') #å³å¯¹é½
'######test'
>>> format(12345, '0=10') #
'0000012345'
>>> format(12345, '=010') #'0'ç´§æ¥å­—æ®µå®½åº¦ä¹‹å‰ï¼Œæˆä¸ºé»˜è®¤å€¼
'0000012345'
>>> format(-12345, '=010') #'0'ç´§æ¥å­—æ®µå®½åº¦ä¹‹å‰ï¼Œæˆä¸ºé»˜è®¤å€¼
'-0000012345'
```

***sign*** ä»…å¯¹æ•°å­—ç±»å‹æœ‰æ•ˆï¼Œå«ä¹‰å¦‚ä¸‹

| é€‰é¡¹  | æ„ä¹‰                                           |
| :---- | :--------------------------------------------- |
| `'+'` | è¡¨ç¤ºæ ‡å¿—åº”è¯¥ç”¨äºæ­£æ•°å’Œè´Ÿæ•°ã€‚                   |
| `'-'` | è¡¨ç¤ºæ ‡å¿—åº”ä»…ç”¨äºè´Ÿæ•°ï¼ˆè¿™æ˜¯é»˜è®¤è¡Œä¸ºï¼‰ã€‚         |
| space | è¡¨ç¤ºåº”åœ¨æ­£æ•°ä¸Šä½¿ç”¨å‰å¯¼ç©ºæ ¼ï¼Œåœ¨è´Ÿæ•°ä¸Šä½¿ç”¨å‡å·ã€‚ |

```python
>>> format(12345, '+')
'+12345'
>>> format(-12345, '+')
'-12345'
>>> format(-12345, '-')
'-12345'
>>> format(12345, ' ')
' 12345'
>>> format(-12345, ' ')
'-12345'
```

***#***  é€‰é¡¹å¯ä»¥è®©â€œæ›¿ä»£å½¢å¼â€è¢«ç”¨äºè½¬æ¢ã€‚ æ›¿ä»£å½¢å¼å¯é’ˆå¯¹ä¸åŒç±»å‹åˆ†åˆ«å®šä¹‰ã€‚ æ­¤é€‰é¡¹ä»…å¯¹æ•´æ•°ã€æµ®ç‚¹ã€å¤æ•°å’Œ Decimal ç±»å‹æœ‰æ•ˆã€‚ å¯¹äºæ•´æ•°ç±»å‹ï¼Œå½“ä½¿ç”¨äºŒè¿›åˆ¶ã€å…«è¿›åˆ¶æˆ–åå…­è¿›åˆ¶è¾“å‡ºæ—¶ï¼Œæ­¤é€‰é¡¹ä¼šä¸ºè¾“å‡ºå€¼æ·»åŠ ç›¸åº”çš„ `'0b'`, `'0o'` æˆ– `'0x'` å‰ç¼€ã€‚ å¯¹äºæµ®ç‚¹æ•°ã€å¤æ•°å’Œ Decimal ç±»å‹ï¼Œæ›¿ä»£å½¢å¼ä¼šä½¿å¾—è½¬æ¢ç»“æœæ€»æ˜¯åŒ…å«å°æ•°ç‚¹ç¬¦å·ï¼Œå³ä½¿å…¶ä¸å¸¦å°æ•°ã€‚ é€šå¸¸åªæœ‰åœ¨å¸¦æœ‰å°æ•°çš„æƒ…å†µä¸‹ï¼Œæ­¤ç±»è½¬æ¢çš„ç»“æœä¸­æ‰ä¼šå‡ºç°å°æ•°ç‚¹ç¬¦å·ã€‚ æ­¤å¤–ï¼Œå¯¹äº `'g'` å’Œ `'G'` è½¬æ¢ï¼Œæœ«å°¾çš„é›¶ä¸ä¼šä»ç»“æœä¸­è¢«ç§»é™¤ã€‚

***width*** ä¸ºä¸€ä¸ªå®šä¹‰æœ€å°å­—æ®µå®½åº¦çš„åè¿›åˆ¶æ•´æ•°ã€‚å¦‚æœæœªæŒ‡å®šï¼Œåˆ™å­—æ®µå®½åº¦å°†æœ‰å†…å®¹ç¡®å®šã€‚

å½“æœªæ˜¾ç¤ºçš„ç»™å‡ºå¯¹é½æ–¹å¼æ—¶ï¼Œåœ¨ *width* å‰å­—æ®µå‰åŠ ä¸€ä¸ªé›¶ï¼ˆ`'0'`ï¼‰å­—æ®µå°†ä¸ºæ•°å­—ç±»å‹å¯ç”¨æ„ŸçŸ¥æ­£è´Ÿå·çš„é›¶å¡«å……ã€‚ç›¸å½“äºè®¾ç½® *fill* å¡«å……å­—ç¬¦ä¸º `'0'` ä¸” *alignment* ç±»å‹ä¸º `=`ã€‚

***grouping_option*** ä¸ºåˆ†éš”é€‰é¡¹ï¼Œ`','` é€‰é¡¹è¡¨ç¤ºä½¿ç”¨é€—å·ä½œä¸ºåƒä½åˆ†éš”ç¬¦ã€‚å¯¹äºæ„Ÿåº”åŒºåŸŸè®¾ç½®çš„åˆ†éš”ç¬¦ï¼Œè¯·æ”¹ç”¨`'n'` æ•´æ•°è¡¨ç¤ºç±»å‹ã€‚`'_'` é€‰é¡¹è¡¨ç¤ºå¯¹æµ®ç‚¹ç±»å‹å’Œæ•´æ•°ç±»å‹ `'d'` ä½¿ç”¨ä¸‹åˆ’çº¿ä½œä¸ºåƒä½åˆ†éš”ç¬¦ã€‚å¯¹äºæ•´æ•°ç±»å‹ `'b'`,`'o'`,`'x'` å’Œ `'X'`ï¼Œå°†ä¸ºæ¯ 4 ä¸ªæ•°ä½æ’å…¥ä¸€ä¸ªä¸‹åˆ’çº¿ã€‚å¯¹äºå…¶ä»–è¡¨ç¤ºç±»å‹æŒ‡å®šæ­¤é€‰é¡¹å°†å¯¼è‡´é”™è¯¯

```python
>>> format(123456,',')
'123,456'
>>> format(123456,'_')
'123_456'
>>> format(123, '_b') #äºŒè¿›åˆ¶æ•´æ•° 
'111_1011'
>>> format(123456,'_o')
'36_1100'
>>> format(123456,'_x')
'1_e240'
>>> format(123456,'_X')
'1_E240'
```



***precision*** æ˜¯ä¸€ä¸ªåè¿›åˆ¶æ•°å­—ï¼Œè¡¨ç¤ºå¯¹äºä»¥ `'f'` å’Œ `'F'` æ ¼å¼åŒ–çš„æµ®ç‚¹æ•°å€¼è¦åœ¨ **å°æ•°ç‚¹å **æ˜¾ç¤ºå¤šå°‘ä¸ªæ•°ä½ã€‚æˆ–è€…å¯¹äºä»¥ `'g'` æˆ– `'G'` æ ¼å¼åŒ–çš„æµ®ç‚¹æ•°å€¼è¦åœ¨ **å°æ•°ç‚¹å‰å** å…±æ˜¾ç¤ºå¤šå°‘ä¸ªæ•°ä½ã€‚ å¯¹äºéæ•°å­—ç±»å‹ï¼Œè¯¥å­—æ®µè¡¨ç¤ºæœ€å¤§å­—æ®µå¤§å° â€”â€” æ¢å¥è¯è¯´å°±æ˜¯è¦ä½¿ç”¨å¤šå°‘ä¸ªæ¥è‡ªå­—æ®µå†…å®¹çš„å­—ç¬¦ã€‚ å¯¹äºæ•´æ•°å€¼åˆ™ä¸å…è®¸ä½¿ç”¨ *precision*ã€‚

```python
>>> format(123.456789, '.3f')  #ä¿ç•™3ä½å°æ•°
'123.457'
>>> format(123.456789, '.6g')  #ä¿ç•™6ä½æœ‰æ•ˆæ•°å­—
'123.457'
>>> format(003.456789)
'3.45679'
>>> format(0.0456789,'.6g')
'0.0456789'
>>> format(123, '.6g')
'123'
>>> format(123, '#.6g')
'123.000'
```

***type*** ç¡®å®šäº†æ•°æ®åº”å¦‚ä½•å‘ˆç°

å¯ç”¨çš„å­—ç¬¦ä¸²è¡¨ç¤ºç±»å‹

| ç±»å‹  | æ„ä¹‰                                         |
| :---- | :------------------------------------------- |
| `'s'` | å­—ç¬¦ä¸²æ ¼å¼ã€‚è¿™æ˜¯å­—ç¬¦ä¸²çš„é»˜è®¤ç±»å‹ï¼Œå¯ä»¥çœç•¥ã€‚ |
| None  | å’Œ `'s'` ä¸€æ ·ã€‚                              |

å¯ç”¨çš„æ•´æ•°è¡¨ç¤ºç±»å‹

| ç±»å‹  | æ„ä¹‰                                                         |
| :---- | :----------------------------------------------------------- |
| `'b'` | äºŒè¿›åˆ¶æ ¼å¼ã€‚ è¾“å‡ºä»¥ 2 ä¸ºåŸºæ•°çš„æ•°å­—ã€‚                         |
| `'c'` | å­—ç¬¦ã€‚åœ¨æ‰“å°ä¹‹å‰å°†æ•´æ•°è½¬æ¢ä¸ºç›¸åº”çš„ unicode å­—ç¬¦ã€‚            |
| `'d'` | åè¿›åˆ¶æ•´æ•°ã€‚ è¾“å‡ºä»¥ 10 ä¸ºåŸºæ•°çš„æ•°å­—ã€‚                        |
| `'o'` | å…«è¿›åˆ¶æ ¼å¼ã€‚ è¾“å‡ºä»¥ 8 ä¸ºåŸºæ•°çš„æ•°å­—ã€‚                         |
| `'x'` | åå…­è¿›åˆ¶æ ¼å¼ã€‚ è¾“å‡ºä»¥ 16 ä¸ºåŸºæ•°çš„æ•°å­—ï¼Œä½¿ç”¨å°å†™å­—æ¯è¡¨ç¤º 9 ä»¥ä¸Šçš„æ•°ç ã€‚ |
| `'X'` | åå…­è¿›åˆ¶æ ¼å¼ã€‚ è¾“å‡ºä»¥ 16 ä¸ºåŸºæ•°çš„æ•°å­—ï¼Œä½¿ç”¨å¤§å†™å­—æ¯è¡¨ç¤º 9 ä»¥ä¸Šçš„æ•°ç ã€‚ |
| `'n'` | æ•°å­—ã€‚ è¿™ä¸ `'d'` ç›¸ä¼¼ï¼Œä¸åŒä¹‹å¤„åœ¨äºå®ƒä¼šä½¿ç”¨å½“å‰åŒºåŸŸè®¾ç½®æ¥æ’å…¥é€‚å½“çš„æ•°å­—åˆ†éš”å­—ç¬¦ã€‚ |
| None  | å’Œ `'d'` ç›¸åŒã€‚                                              |

é™¤äº†ä¸Šè¿°è¡¨ç¤ºç±»å‹å¤–ï¼Œæ•´æ•°è¿˜å¯ä»¥é€šè¿‡æµ®ç‚¹è¡¨ç¤ºç±»å‹æ¥æ ¼å¼åŒ–ï¼ˆé™¤äº† `'n'` å’Œ `None`ï¼‰ã€‚è¿™æ ·åšæ—¶ï¼Œä¼šåœ¨æ ¼å¼åŒ–ä¹‹å‰ä½¿ç”¨ float() å°†æ•´æ•°è½¬æ¢ä¸ºæµ®ç‚¹æ•°ã€‚

```python
>>> format(123,'.2f')
'123.00'
>>> format(123,'.2e')
'1.23e+02'
```



æµ®ç‚¹æ•°å’Œå°æ•°å€¼å¯ç”¨çš„è¡¨ç¤ºç±»å‹æœ‰ï¼š

| ç±»å‹  | æ„ä¹‰                                                         |
| :---- | :----------------------------------------------------------- |
| `'e'` | æŒ‡æ•°è¡¨ç¤ºã€‚ ä»¥ä½¿ç”¨å­—æ¯ 'e' æ¥æ ‡ç¤ºæŒ‡æ•°çš„ç§‘å­¦è®¡æ•°æ³•æ‰“å°æ•°å­—ã€‚ é»˜è®¤çš„ç²¾åº¦ä¸º `6`ã€‚ |
| `'E'` | æŒ‡æ•°è¡¨ç¤ºã€‚ ä¸ `'e'` ç›¸ä¼¼ï¼Œä¸åŒä¹‹å¤„åœ¨äºå®ƒä½¿ç”¨å¤§å†™å­—æ¯ 'E' ä½œä¸ºåˆ†éš”å­—ç¬¦ã€‚ |
| `'f'` | å®šç‚¹è¡¨ç¤ºã€‚ å°†æ•°å­—æ˜¾ç¤ºä¸ºä¸€ä¸ªå®šç‚¹æ•°ã€‚ é»˜è®¤çš„ç²¾ç¡®åº¦ä¸º `6`ã€‚     |
| `'F'` | å®šç‚¹è¡¨ç¤ºã€‚ ä¸ `'f'` ç›¸ä¼¼ï¼Œä½†ä¼šå°† `nan` è½¬ä¸º `NAN` å¹¶å°† `inf` è½¬ä¸º `INF`ã€‚ |
| `'g'` | å¸¸è§„æ ¼å¼ã€‚ å¯¹äºç»™å®šçš„ç²¾åº¦ `p >= 1`ï¼Œè¿™ä¼šå°†æ•°å€¼èˆå…¥åˆ° `p` ä½æœ‰æ•ˆæ•°å­—ï¼Œå†å°†ç»“æœä»¥å®šç‚¹æ ¼å¼æˆ–ç§‘å­¦è®¡æ•°æ³•è¿›è¡Œæ ¼å¼åŒ–ï¼Œå…·ä½“å–å†³äºå…¶å€¼çš„å¤§å°ã€‚å‡†ç¡®çš„è§„åˆ™å¦‚ä¸‹ï¼šå‡è®¾ä½¿ç”¨è¡¨ç¤ºç±»å‹ `'e'` å’Œç²¾åº¦ `p-1` è¿›è¡Œæ ¼å¼åŒ–çš„ç»“æœå…·æœ‰æŒ‡æ•°å€¼ `exp`ã€‚ é‚£ä¹ˆå¦‚æœ `m <= exp < p`ï¼Œå…¶ä¸­ `m` ä»¥ -4 è¡¨ç¤ºæµ®ç‚¹å€¼è€Œä»¥ -6 è¡¨ç¤º [`Decimal`](https://docs.python.org/zh-cn/3/library/decimal.html#decimal.Decimal) å€¼ï¼Œè¯¥æ•°å­—å°†ä½¿ç”¨ç±»å‹ `'f'` å’Œç²¾åº¦ `p-1-exp` è¿›è¡Œæ ¼å¼åŒ–ã€‚ å¦åˆ™çš„è¯ï¼Œè¯¥æ•°å­—å°†ä½¿ç”¨è¡¨ç¤ºç±»å‹ `'e'` å’Œç²¾åº¦ `p-1` è¿›è¡Œæ ¼å¼åŒ–ã€‚ åœ¨ä¸¤ç§æƒ…å†µä¸‹ï¼Œéƒ½ä¼šä»æœ‰æ•ˆæ•°å­—ä¸­ç§»é™¤æ— æ„ä¹‰çš„æœ«å°¾é›¶ï¼Œå¦‚æœå°æ•°ç‚¹ä¹‹åæ²¡æœ‰ä½™ä¸‹æ•°å­—åˆ™å°æ•°ç‚¹ä¹Ÿä¼šè¢«ç§»é™¤ï¼Œé™¤éä½¿ç”¨äº† `'#'` é€‰é¡¹ã€‚æ­£è´Ÿæ— ç©·ï¼Œæ­£è´Ÿé›¶å’Œ nan ä¼šåˆ†åˆ«è¢«æ ¼å¼åŒ–ä¸º `inf`, `-inf`, `0`, `-0` å’Œ `nan`ï¼Œæ— è®ºç²¾åº¦å¦‚ä½•è®¾å®šã€‚ç²¾åº¦ `0` ä¼šè¢«è§†ä¸ºç­‰åŒäºç²¾åº¦ `1`ã€‚ é»˜è®¤ç²¾åº¦ä¸º `6`ã€‚ |
| `'G'` | å¸¸è§„æ ¼å¼ã€‚ ç±»ä¼¼äº `'g'`ï¼Œä¸åŒä¹‹å¤„åœ¨äºå½“æ•°å€¼éå¸¸å¤§æ—¶ä¼šåˆ‡æ¢ä¸º `'E'`ã€‚ æ— ç©·ä¸ NaN ä¹Ÿä¼šè¡¨ç¤ºä¸ºå¤§å†™å½¢å¼ã€‚ |
| `'n'` | æ•°å­—ã€‚ è¿™ä¸ `'g'` ç›¸ä¼¼ï¼Œä¸åŒä¹‹å¤„åœ¨äºå®ƒä¼šä½¿ç”¨å½“å‰åŒºåŸŸè®¾ç½®æ¥æ’å…¥é€‚å½“çš„æ•°å­—åˆ†éš”å­—ç¬¦ã€‚ |
| `'%'` | ç™¾åˆ†æ¯”ã€‚ å°†æ•°å­—ä¹˜ä»¥ 100 å¹¶æ˜¾ç¤ºä¸ºå®šç‚¹ (`'f'`) æ ¼å¼ï¼Œåé¢å¸¦ä¸€ä¸ªç™¾åˆ†å·ã€‚ |
| None  | ç±»ä¼¼äº `'g'`ï¼Œä¸åŒä¹‹å¤„åœ¨äºå½“ä½¿ç”¨å®šç‚¹è¡¨ç¤ºæ³•æ—¶ï¼Œå°æ•°ç‚¹åå°†è‡³å°‘æ˜¾ç¤ºä¸€ä½ã€‚ é»˜è®¤ç²¾åº¦ä¸è¡¨ç¤ºç»™å®šå€¼æ‰€éœ€çš„ç²¾åº¦ä¸€æ ·ã€‚ æ•´ä½“æ•ˆæœä¸ºä¸å…¶ä»–æ ¼å¼ä¿®é¥°ç¬¦æ‰€è°ƒæ•´çš„ [`str()`](https://docs.python.org/zh-cn/3/library/stdtypes.html#str) è¾“å‡ºä¿æŒä¸€è‡´ã€‚ |



## *class* frozenset([iterable])

è¿”å›ä¸€ä¸ªæ–°çš„ `frozenset` å¯¹è±¡ï¼Œå®ƒåŒ…å«å¯é€‰å‚æ•° *iterable* ä¸­çš„å…ƒç´ ã€‚`frozenset` æ˜¯ä¸€ä¸ªå†…ç½®çš„é›†åˆç±»å‹ï¼Œä¸ `set` ä¸åŒçš„æ˜¯ï¼Œ`forzenset` æ˜¯ä¸å¯å˜çš„å¹¶ä¸”ä¸º `hashable`ï¼Œé›†åˆå†…çš„å„å…ƒç´ ä¹Ÿéƒ½æ˜¯` hashable`ï¼Œå…¶å†…å®¹åœ¨è¢«åˆ›å»ºä¹‹åä¸èƒ½åœ¨æ”¹å˜ã€‚å› æ­¤å®ƒè¢«ç”¨ä½œå­—å…¸çš„é”®æˆ–å…¶ä»–é›†åˆçš„å…ƒç´ ã€‚

è¡¥å……ï¼šhashable -- å¯å“ˆå¸Œ

ä¸€ä¸ªå¯¹è±¡çš„å“ˆå¸Œå€¼å¦‚æœåœ¨å…¶ç”Ÿå‘½å‘¨æœŸå†…ç»ä¸æ”¹å˜ï¼Œå°±è¢«ç§°ä¸º *å¯å“ˆå¸Œ* ï¼ˆå®ƒéœ€è¦å…·æœ‰ [`__hash__()`](https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__hash__) æ–¹æ³•ï¼‰ï¼Œå¹¶å¯ä»¥åŒå…¶ä»–å¯¹è±¡è¿›è¡Œæ¯”è¾ƒï¼ˆå®ƒéœ€è¦å…·æœ‰ [`__eq__()`](https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__eq__) æ–¹æ³•ï¼‰ã€‚å¯å“ˆå¸Œå¯¹è±¡å¿…é¡»å…·æœ‰ç›¸åŒçš„å“ˆå¸Œå€¼æ¯”è¾ƒç»“æœæ‰ä¼šç›¸åŒã€‚

```python
>>> frozenset('abc')
frozenset({'1', '2', '3'})
```

## getattr(*object*, *name*[, *default*] )

è¿”å›å¯¹è±¡å‘½åå±æ€§çš„å€¼ã€‚*name* å¿…é¡»æ˜¯å­—ç¬¦ä¸²ã€‚å¦‚æœè¯¥å­—ç¬¦ä¸²æ˜¯å¯¹è±¡çš„å±æ€§ä¹‹ä¸€ï¼Œåˆ™è¿”å›è¯¥å±æ€§çš„å€¼ã€‚ä¾‹å¦‚ï¼Œ `getattr(x, 'foobar')` ç­‰åŒäº `x.foobar`ã€‚å¦‚æœæŒ‡å®šçš„å±æ€§ä¸å­˜åœ¨ï¼Œä¸”æä¾›äº† *default* å€¼ï¼Œåˆ™è¿”å›å®ƒï¼Œå¦åˆ™è§¦å‘ [`AttributeError`](https://docs.python.org/zh-cn/3/library/exceptions.html#AttributeError)ã€‚

```python
>>> class Sample:
...     a=1
...     def __init__(self,b):
...             self.b=b
...             self.c=3
...
>>> getattr(Sample,'a')
1
>>> getattr(Sample(2),'b')
2
>>> getattr(Sample(2),'c')
3
>>> getattr(Sample,'d',4) #å±æ€§ä¸å­˜åœ¨æ—¶è®¾ç½®é»˜è®¤å€¼
4
>>> getattr(Sample, 'd')  #å±æ€§ä¸å­˜åœ¨ï¼Œdefaultæœªå®šä¹‰æ—¶ æŠ¥é”™
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
AttributeError: type object 'Sample' has no attribute 'd'
```

## globals()

è¿”å›è¡¨ç¤ºå½“å‰å…¨å±€ç¬¦å·è¡¨çš„å­—å…¸ã€‚è¿™æ€»æ˜¯å½“å‰æ¨¡å—çš„å­—å…¸ï¼ˆåœ¨å‡½æ•°æˆ–æ–¹æ³•ä¸­ï¼Œä¸æ˜¯è°ƒç”¨å®ƒçš„æ¨¡å—ï¼Œè€Œæ˜¯å®šä¹‰å®ƒçš„æ¨¡å—ï¼‰

```python
>>> globals()
{'__name__': '__main__', '__doc__': None, '__package__': None, '__loader__': <class '_frozen_importlib.BuiltinImporter'>, '__spec__': None, '__annotations__': {}, '__builtins__': <module 'builtins' (built-in)>, 'Sample': <class '__main__.Sample'>}
```

`globals()` è¿˜å¯ä»¥å½“åšå‚æ•°ä¼ é€’ç»™ `eval()` æˆ– `exec()` å‡½æ•°

## hasattr(*object*, *name*)

åˆ¤æ–­å¯¹è±¡æ˜¯å¦æœ‰ å¯¹åº”çš„å±æ€§ï¼Œæœ‰åˆ™è¿”å› `True`ï¼Œå¦åˆ™è¿”å› `False`ã€‚

è¯¥åŠŸèƒ½æ˜¯é€šè¿‡è°ƒç”¨ `getattr(object, name)` çœ‹æ˜¯å¦æœ‰ [`AttributeError`](https://docs.python.org/zh-cn/3/library/exceptions.html#AttributeError) å¼‚å¸¸æ¥å®ç°çš„ã€‚

```python
>>> class Sample:
...     a=1
...     def __init__(self,b):
...             self.b=b
...             self.c=3
...
>>> hasattr(Sample, 'a')
True
>>> hasattr(Sample, 'b')
False
>>> hasattr(Sample(2), 'b')
True
```



## hash(*object*)

è¿”å›è¯¥å¯¹è±¡çš„å“ˆå¸Œå€¼ï¼ˆå¦‚æœå®ƒæœ‰çš„è¯ï¼‰ã€‚ å“ˆå¸Œå€¼æ˜¯æ•´æ•°ã€‚å®ƒä»¬åœ¨å­—å…¸æŸ¥æ‰¾å…ƒç´ æ—¶ç”¨æ¥å¿«é€Ÿæ¯”è¾ƒå­—å…¸çš„é”®ã€‚ç›¸åŒå¤§å°çš„æ•°å­—å˜é‡æœ‰ç›¸åŒçš„å“ˆå¸Œå€¼ï¼ˆå³ä½¿å®ƒä»¬ç±»å‹ä¸åŒï¼Œå¦‚ 1 å’Œ 1.0ï¼‰ã€‚

```python
>>> x=(1,2)
>>> y=(1,2)
>>> x is y
False
>>> z={x:'sample'}    
>>> z[y]
'sample'
```



å¯¹è±¡å¿…é¡»æ˜¯å¯å“ˆå¸Œçš„ï¼Œå¤§å¤šæ•° Python ä¸­çš„ä¸å¯å˜å†…ç½®å¯¹è±¡éƒ½æ˜¯å¯å“ˆå¸Œçš„ï¼›å¯å˜å®¹å™¨ï¼ˆä¾‹å¦‚åˆ—è¡¨æˆ–å­—å…¸ï¼‰éƒ½ä¸å¯å“ˆå¸Œï¼›ä¸å¯å˜å®¹å™¨ï¼ˆä¾‹å¦‚å…ƒç»„å’Œ  frozenset ï¼‰ä»…å½“å®ƒä»¬çš„å…ƒç´ å‡ä¸ºå¯å“ˆå¸Œæ—¶æ‰æ˜¯å¯å“ˆå¸Œçš„ï¼‰ã€‚ç”¨æˆ·å®šä¹‰ç±»çš„å®ä¾‹å¯¹è±¡é»˜è®¤æ˜¯å¯å“ˆå¸Œçš„ã€‚ å®ƒä»¬åœ¨æ¯”è¾ƒæ—¶ä¸€å®šä¸ç›¸åŒï¼ˆé™¤éæ˜¯ä¸è‡ªå·±æ¯”è¾ƒï¼‰ï¼Œå®ƒä»¬çš„å“ˆå¸Œå€¼çš„ç”Ÿæˆæ˜¯åŸºäºå®ƒä»¬çš„ [`id()`](https://docs.python.org/zh-cn/3/library/functions.html#id)

```python
>>>hash('test')            # å­—ç¬¦ä¸²
2314058222102390712
>>> hash(1)                 # æ•°å­—
1
>>> hash((1,))        #å…ƒç¥–
3430019387558
>>> hash([1,2,3])     #ä¸å¯å“ˆå¸Œç±»å‹ æŠ¥é”™
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
TypeError: unhashable type: 'list'
```

åœ¨ **hash()** å¯¹å¯¹è±¡ä½¿ç”¨æ—¶ï¼Œæ‰€å¾—çš„ç»“æœä¸ä»…å’Œå¯¹è±¡çš„å†…å®¹æœ‰å…³ï¼Œè¿˜å’Œå¯¹è±¡çš„ **id()**ï¼Œä¹Ÿå°±æ˜¯å†…å­˜åœ°å€æœ‰å…³ã€‚

```python
class Test:
    def __init__(self, i):
        self.i = i
for i in range(10):
    t = Test(1)
    print(hash(t), id(t))

# Output: -9223371916071089471 1932538981400
#         120783677160 1932538834560
#         -9223371916071098722 1932538833384
#         120783677160 1932538834560
#         -9223371916071098715 1932538833496
#         120783677160 1932538834560
#         -9223371916071098715 1932538833496
#         120783677160 1932538834560
#         -9223371916071098659 1932538834392
#         120783677160 1932538834560
```

**æ³¨è§£**ï¼šå¦‚æœå¯¹è±¡å®ç°äº†è‡ªå·±çš„ [`__hash__()`](https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__hash__) æ–¹æ³•ï¼Œè¯·æ³¨æ„ï¼Œ[`hash()`](https://docs.python.org/zh-cn/3/library/functions.html#hash) æ ¹æ®æœºå™¨çš„å­—é•¿æ¥æˆªæ–­è¿”å›å€¼

## help([*object*])

å¯åŠ¨å†…ç½®çš„å¸®åŠ©ç³»ç»Ÿï¼ˆæ­¤å‡½æ•°ä¸»è¦åœ¨äº¤äº’å¼ä¸­ä½¿ç”¨ï¼‰ã€‚å¦‚æœæ²¡æœ‰å®å‚ï¼Œè§£é‡Šå™¨æ§åˆ¶å°é‡Œä¼šå¯åŠ¨äº¤äº’å¼å¸®åŠ©ç³»ç»Ÿã€‚å¦‚æœå®å‚æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œåˆ™åœ¨æ¨¡å—ã€å‡½æ•°ã€ç±»ã€æ–¹æ³•ã€å…³é”®å­—æˆ–æ–‡æ¡£ä¸»é¢˜ä¸­æœç´¢è¯¥å­—ç¬¦ä¸²ï¼Œå¹¶åœ¨æ§åˆ¶å°ä¸Šæ‰“å°å¸®åŠ©ä¿¡æ¯ã€‚å¦‚æœå®å‚æ˜¯å…¶ä»–ä»»æ„å¯¹è±¡ï¼Œåˆ™ä¼šç”Ÿæˆè¯¥å¯¹è±¡çš„å¸®åŠ©é¡µã€‚

```python
>>>help('sys')             # æŸ¥çœ‹ sys æ¨¡å—çš„å¸®åŠ©
â€¦â€¦æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯â€¦â€¦
 
>>>help('str')             # æŸ¥çœ‹ str æ•°æ®ç±»å‹çš„å¸®åŠ©
â€¦â€¦æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯â€¦â€¦
 
>>>a = [1,2,3]
>>>help(a)                 # æŸ¥çœ‹åˆ—è¡¨ list å¸®åŠ©ä¿¡æ¯
â€¦â€¦æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯â€¦â€¦
 
>>>help(a.append)          # æ˜¾ç¤ºlistçš„appendæ–¹æ³•çš„å¸®åŠ©
â€¦â€¦æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯â€¦â€¦
```

## hex(x)

å°†æ•´æ•°è½¬æ¢ä¸ºä»¥ â€™0xâ€˜ ä¸ºå‰ç¼€çš„å°å†™åå…­è¿›åˆ¶å­—ç¬¦ä¸²ã€‚å¦‚æœ x ä¸æ˜¯ Python int å¯¹è±¡ï¼Œåˆ™å¿…é¡»å®šä¹‰è¿”å›æ•´æ•°çš„ __index\_\_() æ–¹æ³•ã€‚

```python
>>> hex(255)
'0xff'
>>> hex(-42)
'-0x2a'
>>> class Sample:
...     def __index__(self):
...         return 4
>>> hex(Sample())
'0x4'
```

å¦‚æœè¦å°†æ•´æ•°è½¬æ¢ä¸ºå¤§å†™æˆ–å°å†™çš„åå…­è¿›åˆ¶å­—ç¬¦ä¸²ï¼Œå¹¶å¯é€‰æ‹©æœ‰æ— â€œ0xâ€å‰ç¼€ï¼Œåˆ™å¯ä»¥ä½¿ç”¨å¦‚ä¸‹æ–¹æ³•ï¼š

```python
>>> '%#x' % 255, '%x' % 255, '%X' % 255
('0xff', 'ff', 'FF')
>>> format(255, '#x'), format(255, 'x'), format(255, 'X')
('0xff', 'ff', 'FF')
>>> f'{255:#x}', f'{255:x}', f'{255:X}'
('0xff', 'ff', 'FF')
```

æ³¨ï¼šå¦‚æœè¦è·å–æµ®ç‚¹æ•°çš„åå…­è¿›åˆ¶å­—ç¬¦ä¸²å½¢å¼ï¼Œè¯·ä½¿ç”¨ [`float.hex()`](https://docs.python.org/zh-cn/3/library/stdtypes.html#float.hex) æ–¹æ³•ã€‚

## id(*object*)

è¿”å›å¯¹è±¡çš„ â€œæ ‡è¯†å€¼â€ã€‚è¯¥å€¼æ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œåœ¨æ­¤å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸä¸­ä¿è¯æ˜¯å”¯ä¸€ä¸”æ’å®šçš„ã€‚ä¸¤ä¸ªç”Ÿå‘½æœŸä¸é‡å çš„å¯¹è±¡å¯èƒ½å…·æœ‰ç›¸åŒçš„ id() å€¼

```python
>>> id(123)
140735624409552
>>> a=1
>>> id(a)
140735624405648
>>> b=a
>>> id(b)
140735624405648
```

## input([*prompt*])

è¯¥å‡½æ•°æ¥å—ä¸€ä¸ªæ ‡å‡†è¾“å…¥æ•°æ®ï¼Œè¿”å› string ç±»å‹ï¼Œå¦‚æœå‚æ•° *prompt* å­˜åœ¨ï¼Œåˆ™ä¼šæ‰“å°æç¤ºä¿¡æ¯

```python
>>>a = input("input:")
input:123                  # è¾“å…¥æ•´æ•°
>>> type(a)
<class 'str'>              # å­—ç¬¦ä¸²
>>> a = input("input:")    
input:runoob              # æ­£ç¡®ï¼Œå­—ç¬¦ä¸²è¡¨è¾¾å¼
>>> type(a)
<class 'str'>             # å­—ç¬¦ä¸²
```

## *class* int([*x*]) | *class* int(*x*, *base=10*)

è¯¥å‡½æ•°ç”¨äºå°†ä¸€ä¸ªå­—ç¬¦ä¸²æˆ–æ•°å­—è½¬æ¢ä¸º **æ•´å‹**ï¼Œæœªç»™å‡ºå‚æ•°æ—¶è¿”å› `0`

```python
>>> int()
0
```

å¦‚æœ x å¯¹å®šä¹‰äº†` __int__()`ï¼Œ`int(x)` å°†è¿”å› `x.__int__()`ï¼ˆ3.8 ç‰ˆæœ¬æœªå®šä¹‰`__int__()`åˆ™å›é€€è‡³ `__index__()`ï¼‰ï¼›å¦‚æœå®šä¹‰äº† `__index__()`ï¼Œå®ƒå°†è¿”å› `x.__index__()`ï¼›å¦‚æœå®šä¹‰äº† `__trunc__()`ï¼Œå®ƒå°†è¿”å› `x.__trunc__()`ã€‚å¯¹äºæµ®ç‚¹æ•°ï¼Œå®ƒå°†å‘é›¶èˆå…¥ã€‚

```python
>>> int(3.6)  #å‘0å–æ•´
3
>>> int(-3.6)  #å‘0å–æ•´
-3
>>> class Sample:    #å®šä¹‰ __int__() æ–¹æ³•
... 	def __init__(self, value):
...         self.value = value
...     def __int__(self):
...         return self.value
>>> int(Sample(6))
6

>>> class Sample:    #å®šä¹‰ __trunc__() æ–¹æ³•
...     def __init__(self,value):
...         self._value = value
...	    def __trunc__(self):
...	        return self._value**2
>>> int(Sample(6)) 
36

>>> class Sample:   #éƒ½æœªå®šä¹‰æŠ¥å¼‚å¸¸
...     def __init__(self,value):
...         self._value = value
>>> int(Sample(6))
TypeError: int() argument must be a string, a bytes-like object or a number, not 'Sample'
```

*x* è¿˜å¯ä»¥æ˜¯ä»¥ *base* ä¸ºåŸºæ•°çš„æ•´å‹å­—é¢å€¼([*integer* *literal*](https://docs.python.org/3.7/reference/lexical_analysis.html#integers))çš„å­—ç¬¦ä¸²(æˆ– [`bytes`](https://docs.python.org/3.7/library/stdtypes.html#bytes) å’Œ [`bytearray`](https://docs.python.org/3.7/library/stdtypes.html#bytearray))å½¢å¼ï¼Œ*base* çš„é»˜è®¤å€¼æ˜¯ `10`ã€‚æ­¤æ—¶ï¼Œä¼šæŒ‰ç…§ç»™å®šè¿›åˆ¶å°† *x* è½¬æ¢ä¸ºå¯¹åº”çš„æ•´æ•°ã€‚

å¯åœ¨æ•´å‹å­—é¢å€¼å­—ç¬¦ä¸²çš„å‰æ–¹æ·»åŠ  `+` (æˆ– `-`)ï¼Œå­—é¢å€¼å’Œ `+` (æˆ– `-`)ä¹‹é—´ä¸å…è®¸æœ‰ç©ºæ ¼(*space*)ï¼Œä½†åœ¨å­—é¢å€¼å’Œ `+` (æˆ– `-`)çš„å¤–å›´å…è®¸å­˜åœ¨ç©ºç™½ç¬¦(*whitespace*)ã€‚

```python
int(' \t -10 \n') #> -10
```

ä¸€ä¸ªè¿›åˆ¶ä¸º n çš„æ•°å­—åŒ…å« 0 åˆ° n-1 çš„æ•°ï¼Œå…¶ä¸­ `a` åˆ° `z` ï¼ˆæˆ– `A` åˆ° `Z` ï¼‰è¡¨ç¤º 10 åˆ° 35ã€‚é»˜è®¤çš„ *base* ä¸º 10 ï¼Œå…è®¸çš„è¿›åˆ¶æœ‰ 0ã€2-36ã€‚

```python
int('z',base=36) #> 35
```

å¯ä»¥ç”¨ `0b`/`0B` ã€ `0o`/`0O` ã€ `0x`/`0X` å‰ç¼€æ¥è¡¨ç¤º2ã€8ã€16 è¿›åˆ¶çš„æ•°å­—ã€‚

```python
int('0b10',base=2) #> 2
int('0o10',base=8) #> 8
int('0x10',base=16) #> 16
```

è¿›åˆ¶ä¸º 0 å°†å®‰ç…§ä»£ç çš„å­—é¢é‡æ¥ç²¾ç¡®è§£é‡Šï¼Œæœ€åçš„ç»“æœä¼šæ˜¯ 2ã€8ã€10ã€16 è¿›åˆ¶ä¸­çš„ä¸€ä¸ªã€‚æ‰€ä»¥ `int('010', 0)` æ˜¯éæ³•çš„ï¼Œä½† `int('010')` å’Œ `int('010', 8)` æ˜¯åˆæ³•çš„ã€‚

```python
int('0b10',0) #> 2
int('0o10',0) #> 8
int('0x10',0) #> 16
int('10',0) #> 10
```

## isinstance(*object*, *classinfo*)

åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯ä¸€ä¸ªå·²çŸ¥çš„ç±»å‹(*classinfo*)ï¼Œç±»ä¼¼ `type()`ã€‚

> isinstance() ä¸ type() åŒºåˆ«ï¼š
>
> - type() ä¸ä¼šè®¤ä¸ºå­ç±»æ˜¯ä¸€ç§çˆ¶ç±»ç±»å‹ï¼Œä¸è€ƒè™‘ç»§æ‰¿å…³ç³»ã€‚
> - isinstance() ä¼šè®¤ä¸ºå­ç±»æ˜¯ä¸€ç§çˆ¶ç±»ç±»å‹ï¼Œè€ƒè™‘ç»§æ‰¿å…³ç³»ã€‚
>
> å¦‚æœè¦åˆ¤æ–­ä¸¤ä¸ªç±»å‹æ˜¯å¦ç›¸åŒæ¨èä½¿ç”¨ isinstance()ã€‚

*classinfo* å¯ä»¥æ˜¯ç›´æ¥æˆ–é—´æ¥ç±»åã€åŸºæœ¬ç±»å‹æˆ–è€…ç”±ä»–ä»¬ç»„æˆçš„å…ƒç»„ã€‚

|  ç±»å‹   |  è¯´æ˜  | ç±»å‹  |  è¯´æ˜  |
| :-----: | :----: | :---: | :----: |
|   int   |  æ•´å‹  |  str  | å­—ç¬¦ä¸² |
|  float  | æµ®ç‚¹å‹ | list  |  åˆ—è¡¨  |
|  bool   | å¸ƒå°”å‹ |  set  |  é›†åˆ  |
| complex |  å¤æ•°  | tuple |  å…ƒç»„  |
| object  |  åŸºç±»  | dict  |  å­—å…¸  |

å¦‚æœå¯¹è±¡çš„ç±»å‹ä¸ *classinfo* ä¸€è‡´ï¼Œæˆ–è€…ä¸ºå…¶ä¸­ä¹‹ä¸€ï¼ˆå…ƒç»„ï¼‰ï¼Œåˆ™è¿”å› Trueï¼Œå¦åˆ™è¿”å› Falseã€‚

```python
>>>a = 2
>>> isinstance (a,int)
True
>>> isinstance (a,str)
False
>>> isinstance (a,(str,int,list))    # æ˜¯å…ƒç»„ä¸­çš„ä¸€ä¸ªè¿”å› True
True
```

`type()` å’Œ `isinstance()` çš„åŒºåˆ«

```python
class A:
    pass
 
class B(A):
    pass
 
isinstance(A(), A)    # returns True
type(A()) == A        # returns True
isinstance(B(), A)    # returns True
type(B()) == A        # returns False
```

å¦‚æœ *classinfo* æ—¢ä¸æ˜¯ç±»å‹ï¼Œä¹Ÿä¸æ˜¯ç±»å‹å…ƒç»„æˆ–ç±»å‹å…ƒç»„çš„å…ƒç»„ï¼Œåˆ™å°†å¼•å‘ [`TypeError`](https://docs.python.org/zh-cn/3/library/exceptions.html#TypeError) å¼‚å¸¸ã€‚

## issubclass(*class*, *classinfo*)

è¯¥å‡½æ•°ç”¨äºåˆ¤æ–­å‚æ•° *class* æ˜¯å¦ä¸ºç±»å‹å‚æ•° *classinfo* çš„å­ç±»ã€‚

*class* æ˜¯ *classinfo* çš„ï¼ˆç›´æ¥ã€é—´æ¥æˆ–è™šæ‹Ÿï¼‰å­ç±»åˆ™è¿”å› `True`ï¼Œå¦åˆ™è¿”å› `False`

*classinfo* å¯ä»¥æ˜¯ç±»å‹å…ƒç»„ï¼Œæ­¤æ—¶åªè¦ *class* ä¸ºå…¶ä¸­ä¸€ä¸ªçš„å­ç±»å°±è¿”å› `True`

ä»»ä½•ç±»éƒ½æ˜¯åŸºç±» object çš„å­ç±»ï¼Œä¹Ÿæ˜¯è‡ªèº«çš„å­ç±»

```python
class A:
    pass
class B(A):
    pass
  
print(issubclass(B, A))    # è¿”å› True
print(issubclass(B, B))    # è¿”å› True
print(issubclass(B, object))  # è¿”å› True
```

## iter(*object*[, *sentinel*])

è¯¥å‡½æ•°ç”¨äºè¿”å›ä¸€ä¸ªè¿­ä»£å™¨å¯¹è±¡ï¼ˆiteratorï¼‰ã€‚

*object* å¿…é¡»æ˜¯æ”¯æŒè¿­ä»£åè®®ï¼ˆæœ‰ [`__iter__()`](https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__iter__) æ–¹æ³•ï¼‰çš„é›†åˆå¯¹è±¡ï¼Œæˆ–å¿…é¡»æ”¯æŒåºåˆ—åè®®ï¼ˆæœ‰ [`__getitem__()`](https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__getitem__) æ–¹æ³•ï¼Œä¸”æ•°å­—å‚æ•°ä» `0` å¼€å§‹ï¼‰ï¼Œå¦åˆ™è§¦å‘ [`TypeError`](https://docs.python.org/zh-cn/3/library/exceptions.html#TypeError) å¼‚å¸¸ã€‚

```python
>>> sample = '123'
>>> next(sample)
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
TypeError: 'str' object is not an iterator
>>> sample = iter('123')
>>> next(sample)
'1'
>>> next(sample)
'2'
>>> next(sample)
'3'
```

å¦‚æœæœ‰ç¬¬äºŒä¸ªå®å‚ *sentinel*ï¼Œé‚£ä¹ˆ *object* å¿…é¡»æ˜¯ **å¯è°ƒç”¨** çš„å¯¹è±¡ã€‚è¿™ç§æƒ…å†µä¸‹ç”Ÿæˆçš„è¿­ä»£å™¨ï¼Œæ¯æ¬¡è¿­ä»£è°ƒç”¨å®ƒçš„ [`__next__()`](https://docs.python.org/zh-cn/3/library/stdtypes.html#iterator.__next__) æ–¹æ³•æ—¶éƒ½ä¼šä¸å¸¦å®å‚åœ°è°ƒç”¨ *object*ï¼›å¦‚æœè¿”å›çš„ç»“æœæ˜¯ *sentinel* åˆ™è§¦å‘ [`StopIteration`](https://docs.python.org/zh-cn/3/library/exceptions.html#StopIteration) ï¼ˆ`for` å¾ªç¯ä¼šè‡ªåŠ¨æ•è·è¯¥å¼‚å¸¸å¹¶åœæ­¢è°ƒç”¨`next()`ï¼‰ï¼Œå¦åˆ™è¿”å›è°ƒç”¨ç»“æœã€‚

```python
class Sample:
    def __init__(self):
        self.l = [1,2,3,4,5]
        self.i = iter(self.l)
    def __call__(self):  # å®šä¹‰äº†__call__æ–¹æ³•çš„ç±»çš„å®ä¾‹æ˜¯å¯è°ƒç”¨çš„
        item = next(self.i)
        print('__call__ is called, which would return', item)
        return item
    def __iter__(self): # æ”¯æŒè¿­ä»£åè®®ï¼ˆå®šä¹‰äº† __iter__()æ–¹æ³•ï¼‰
        print("__iter__ is called!")
        return iter(self.l)
S = Sample() 
print(callable(S))  
s = iter(S,3)
for i in s:
    print(i)
    
# True
# __call__ is called,which would return 1
# 1
# __call__ is called,which would return 2
# 2
# __call__ is called,which would return 3
```

## len(*s*)

è¿”å›å¯¹è±¡çš„é•¿åº¦ï¼ˆå…ƒç´ ä¸ªæ•°ï¼‰ã€‚å®å‚å¯ä»¥æ˜¯åºåˆ—ï¼ˆå¦‚ stringã€bytesã€tupleã€list æˆ– range ç­‰ï¼‰æˆ–é›†åˆï¼ˆå¦‚ dictionaryã€set æˆ– frozen set ç­‰ï¼‰ã€‚

```python
>>>str = "runoob"
>>> len(str)             # å­—ç¬¦ä¸²é•¿åº¦
6
>>> l = [1,2,3,4,5]
>>> len(l)               # åˆ—è¡¨å…ƒç´ ä¸ªæ•°
5
```

## list([*iterable*])

æ„é€ å™¨å°†æ„é€ ä¸€ä¸ªåˆ—è¡¨ï¼Œå…¶ä¸­çš„é¡¹ä¸ *iterable* ä¸­çš„é¡¹å…·æœ‰ç›¸åŒçš„çš„å€¼ä¸é¡ºåºã€‚ *iterable* å¯ä»¥æ˜¯åºåˆ—ã€æ”¯æŒè¿­ä»£çš„å®¹å™¨æˆ–å…¶å®ƒå¯è¿­ä»£å¯¹è±¡ã€‚ å¦‚æœ *iterable* å·²ç»æ˜¯ä¸€ä¸ªåˆ—è¡¨ï¼Œå°†åˆ›å»ºå¹¶è¿”å›å…¶å‰¯æœ¬ï¼Œç±»ä¼¼äº `iterable[:]`

```python
>>> list()  # æ— å‚ç”Ÿæˆç©ºåˆ—è¡¨
[]
>>> list([1,2,3])  # ä¼ å…¥åˆ—è¡¨åºåˆ—ç›¸å½“äº [:]
[1,2,3]
>>> list('123')  #ä¼ å…¥å­—ç¬¦ä¸²
['1', '2', '3']
>>> list((1,2,3))  #ä¼ å…¥å…ƒç»„
[1,2,3]
>>> list({'a':1,'b':2})  # å­—å…¸åºåˆ—è¿”å›é”®åˆ—è¡¨
['a', 'b']
```

## locals()

ä»¥å­—å…¸ç±»å‹è¿”å›å½“å‰ä½ç½®çš„å…¨éƒ¨å±€éƒ¨å˜é‡

å¯¹äºå‡½æ•°, æ–¹æ³•, lambda å‡½å¼, ç±», ä»¥åŠå®ç°äº† _\_call__ æ–¹æ³•çš„ç±»å®ä¾‹, å®ƒéƒ½è¿”å› Trueã€‚

```python
>>>def runoob(arg):    # ä¸¤ä¸ªå±€éƒ¨å˜é‡ï¼šargã€z
...     z = 1
...     print (locals())
... 
>>> runoob(4)
{'z': 1, 'arg': 4}      # è¿”å›ä¸€ä¸ªåå­—/å€¼å¯¹çš„å­—å…¸
```

## map(*function*, *iterable*, â€¦)

è¿”å›ä¸€ä¸ªæ ¹æ®æŒ‡å®šçš„å‡½æ•° *function* å¯¹æŒ‡å®šåºåˆ—åšæ˜ å°„çš„è¿­ä»£å™¨ã€‚

å½“å­˜åœ¨å¤šä¸ªåºåˆ—æ—¶ï¼Œ*function* å¿…é¡»æœ‰å¯¹åº”åºåˆ—çš„å®å‚ï¼Œå¹¶è¢«åº”ç”¨äºæ‰€æœ‰åºåˆ—å¯¹è±¡çš„ **å¹¶è¡Œé¡¹**ã€‚å½“æœ€çŸ­è¿­ä»£å¯¹è±¡æ¶ˆè€—å®Œæ¯•åï¼Œæ•´ä¸ªè¿­ä»£ç»“æŸ

```python
>>>def square(x) :            # è®¡ç®—å¹³æ–¹æ•°
...     return x ** 2
... 
>>> map(square, [1,2,3,4,5])   # è®¡ç®—åˆ—è¡¨å„ä¸ªå…ƒç´ çš„å¹³æ–¹
[1, 4, 9, 16, 25]
>>> map(lambda x: x ** 2, [1, 2, 3, 4, 5])  # ä½¿ç”¨ lambda åŒ¿åå‡½æ•°
[1, 4, 9, 16, 25]
 
# æä¾›äº†ä¸¤ä¸ªåˆ—è¡¨ï¼Œå¯¹ç›¸åŒä½ç½®çš„åˆ—è¡¨æ•°æ®è¿›è¡Œç›¸åŠ 
>>> map(lambda x, y: x + y, [1, 3, 5, 7, 9], [2, 4, 6, 8, 10])
[3, 7, 11, 15, 19]
```

## max(*iterable*, *[, *key*, default]) | max(*arg1*, *arg2*, **args*[, *key*])

è¿”å›å¯è¿­ä»£å¯¹è±¡ä¸­æœ€å¤§çš„å…ƒç´ ï¼Œæˆ–è€…è¿”å›ä¸¤ä¸ªåŠä»¥ä¸Šå®å‚ä¸­æœ€å¤§çš„ã€‚

å¦‚æœåªæä¾›äº†ä¸€ä¸ªä½ç½®å‚æ•°ï¼Œå®ƒå¿…é¡»æ˜¯éç©º [iterable](https://docs.python.org/zh-cn/3/glossary.html#term-iterable)ï¼Œè¿”å›å¯è¿­ä»£å¯¹è±¡ä¸­æœ€å¤§çš„å…ƒç´ ï¼›å¦‚æœæä¾›äº†ä¸¤ä¸ªåŠä»¥ä¸Šçš„ä½ç½®å‚æ•°ï¼Œåˆ™è¿”å›æœ€å¤§çš„ä½ç½®å‚æ•°ã€‚

æœ‰ä¸¤ä¸ªå¯é€‰åªèƒ½ç”¨å…³é”®å­—çš„å®å‚ã€‚*key* å®å‚æŒ‡å®šæ’åºå‡½æ•°ç”¨çš„å‚æ•°ï¼Œå¦‚ä¼ ç»™ [`list.sort()`](https://docs.python.org/zh-cn/3/library/stdtypes.html#list.sort) çš„ã€‚*default* å®å‚æ˜¯å½“å¯è¿­ä»£å¯¹è±¡ä¸ºç©ºæ—¶è¿”å›çš„å€¼ã€‚å¦‚æœå¯è¿­ä»£å¯¹è±¡ä¸ºç©ºï¼Œå¹¶ä¸”æ²¡æœ‰ç»™ *default* ï¼Œåˆ™ä¼šè§¦å‘ [`ValueError`](https://docs.python.org/zh-cn/3/library/exceptions.html#ValueError)ã€‚

å¦‚æœæœ‰å¤šä¸ªæœ€å¤§å…ƒç´ ï¼Œåˆ™æ­¤å‡½æ•°å°†è¿”å›ç¬¬ä¸€ä¸ªæ‰¾åˆ°çš„

```python
>>> max('123')  #åºåˆ—æœ€å¤§å€¼
'3'
>>> max('123','456','789')  #å¤šä¸ªä½ç½®å‚æ•°ï¼Œè¿”å›æœ€å¤§çš„ä½ç½®å‚æ•°
'789'
>>> max([],default=3) #æŒ‡å®šé»˜è®¤å€¼
3
>>> max([-3,2,1], key=abs)  #æŒ‡å®šæ’åºè§„åˆ™
-3
>>> max([-3,2,1,3], key=abs)  #å¤šä¸ªæœ€å¤§è¿”å›å…ˆæ‰¾åˆ°çš„
-3
```

## memoryview(*obj*)

è¿”å›ç”±ç»™å®šå®å‚åˆ›å»ºçš„â€œå†…å­˜è§†å›¾â€å¯¹è±¡ã€‚è¯¥å¯¹è±¡å…è®¸ Python ä»£ç è®¿é—®ä¸€ä¸ªå¯¹è±¡çš„å†…éƒ¨æ•°æ®ï¼Œåªè¦è¯¥å¯¹è±¡æ”¯æŒ [ç¼“å†²åŒºåè®®](https://docs.python.org/zh-cn/3/c-api/buffer.html#bufferobjects) è€Œæ— éœ€è¿›è¡Œæ‹·è´ã€‚

*obj* å¿…é¡»æ”¯æŒç¼“å†²åŒºåè®®ã€‚ æ”¯æŒç¼“å†²åŒºåè®®çš„å†…ç½®å¯¹è±¡åŒ…æ‹¬ [`bytes`](https://docs.python.org/zh-cn/3/library/stdtypes.html#bytes) å’Œ [`bytearray`](https://docs.python.org/zh-cn/3/library/stdtypes.html#bytearray)ã€‚

[`memoryview`](https://docs.python.org/zh-cn/3/library/stdtypes.html#memoryview) å…·æœ‰ *å…ƒç´ * çš„æ¦‚å¿µï¼Œå³ç”±åŸå§‹å¯¹è±¡ *obj* æ‰€å¤„ç†çš„åŸºæœ¬å†…å­˜å•å…ƒã€‚ å¯¹äºè®¸å¤šç®€å•ç±»å‹ä¾‹å¦‚ [`bytes`](https://docs.python.org/zh-cn/3/library/stdtypes.html#bytes) å’Œ [`bytearray`](https://docs.python.org/zh-cn/3/library/stdtypes.html#bytearray) æ¥è¯´ï¼Œä¸€ä¸ªå…ƒç´ å°±æ˜¯ä¸€ä¸ªå­—èŠ‚ï¼Œä½†æ˜¯å…¶ä»–çš„ç±»å‹ä¾‹å¦‚ [`array.array`](https://docs.python.org/zh-cn/3/library/array.html#array.array) å¯èƒ½æœ‰æ›´å¤§çš„å…ƒç´ ã€‚

```python
>>>v = memoryview(bytearray("abcefg", 'utf-8'))
>>> print(v[1])
98
>>> print(v[-1])
103
>>> print(v[1:4])
<memory at 0x10f543a08>
>>> print(v[1:4].tobytes())
b'bce'
```

## min(*iterable*, *[, *key*, default]) | min(*arg1*, *arg2*, **args*[, *key*])

è¿”å›å¯è¿­ä»£å¯¹è±¡ä¸­æœ€å°çš„å…ƒç´ ï¼Œæˆ–è€…è¿”å›ä¸¤ä¸ªåŠä»¥ä¸Šå®å‚ä¸­æœ€å°çš„ã€‚

å¦‚æœåªæä¾›äº†ä¸€ä¸ªä½ç½®å‚æ•°ï¼Œå®ƒå¿…é¡»æ˜¯éç©º [iterable](https://docs.python.org/zh-cn/3/glossary.html#term-iterable)ï¼Œè¿”å›å¯è¿­ä»£å¯¹è±¡ä¸­æœ€å°çš„å…ƒç´ ï¼›å¦‚æœæä¾›äº†ä¸¤ä¸ªåŠä»¥ä¸Šçš„ä½ç½®å‚æ•°ï¼Œåˆ™è¿”å›æœ€å°çš„ä½ç½®å‚æ•°ã€‚

æœ‰ä¸¤ä¸ªå¯é€‰åªèƒ½ç”¨å…³é”®å­—çš„å®å‚ã€‚*key* å®å‚æŒ‡å®šæ’åºå‡½æ•°ç”¨çš„å‚æ•°ï¼Œå¦‚ä¼ ç»™ [`list.sort()`](https://docs.python.org/zh-cn/3/library/stdtypes.html#list.sort) çš„ã€‚*default* å®å‚æ˜¯å½“å¯è¿­ä»£å¯¹è±¡ä¸ºç©ºæ—¶è¿”å›çš„å€¼ã€‚å¦‚æœå¯è¿­ä»£å¯¹è±¡ä¸ºç©ºï¼Œå¹¶ä¸”æ²¡æœ‰ç»™ *default* ï¼Œåˆ™ä¼šè§¦å‘ [`ValueError`](https://docs.python.org/zh-cn/3/library/exceptions.html#ValueError)ã€‚

å¦‚æœæœ‰å¤šä¸ªæœ€å°å…ƒç´ ï¼Œåˆ™æ­¤å‡½æ•°å°†è¿”å›ç¬¬ä¸€ä¸ªæ‰¾åˆ°çš„

```python
>>> min('123')  #åºåˆ—æœ€å°å€¼
'1'
>>> min('123','456','789')  #å¤šä¸ªä½ç½®å‚æ•°ï¼Œè¿”å›æœ€å°çš„ä½ç½®å‚æ•°
'123'
>>> min([],default=3) #æŒ‡å®šé»˜è®¤å€¼
3
>>> min([-3,2,1], key=abs)  #æŒ‡å®šæ’åºè§„åˆ™
1
>>> min([-3,2,1,-1], key=abs)  #å¤šä¸ªæœ€å°è¿”å›å…ˆæ‰¾åˆ°çš„
1
```

## next(*iterator*[, *default*])

é€šè¿‡è°ƒç”¨ *iterator* çš„ [`__next__()`](https://docs.python.org/zh-cn/3/library/stdtypes.html#iterator.__next__) æ–¹æ³•è·å–ä¸‹ä¸€ä¸ªå…ƒç´ ã€‚å¦‚æœè¿­ä»£å™¨è€—å°½ï¼Œåˆ™è¿”å›ç»™å®šçš„ *default*ï¼Œå¦‚æœæ²¡æœ‰é»˜è®¤å€¼åˆ™è§¦å‘ [`StopIteration`](https://docs.python.org/zh-cn/3/library/exceptions.html#StopIteration)ã€‚

```python
>>> s = iter('123')
>>> next(s)
'1'
>>> next(s)
'2'
>>> next(s)
'3'
>>> next(s)  #è¿­ä»£å™¨è€—å°½ä¸”æ²¡æœ‰é»˜è®¤å€¼ï¼Œå¼‚å¸¸
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
StopIteration
>>> next(s,'0')  #æœ‰é»˜è®¤å€¼
'0'
```

## *class* **object**

è¿”å›ä¸€ä¸ªæ²¡æœ‰ç‰¹å¾çš„æ–°å¯¹è±¡ã€‚[`object`](https://docs.python.org/zh-cn/3/library/functions.html#object) æ˜¯æ‰€æœ‰ç±»çš„åŸºç±»ã€‚å®ƒå…·æœ‰æ‰€æœ‰ Python ç±»å®ä¾‹çš„é€šç”¨æ–¹æ³•ã€‚è¿™ä¸ªå‡½æ•°ä¸æ¥å—ä»»ä½•å®å‚ã€‚

**æ³¨è§£:** ç”±äº [`object`](https://docs.python.org/zh-cn/3/library/functions.html#object) æ²¡æœ‰ [`__dict__`](https://docs.python.org/zh-cn/3/library/stdtypes.html#object.__dict__)ï¼Œå› æ­¤æ— æ³•å°†ä»»æ„å±æ€§èµ‹ç»™ [`object`](https://docs.python.org/zh-cn/3/library/functions.html#object) çš„å®ä¾‹ã€‚

## oct(*x*)

å°†ä¸€ä¸ªæ•´æ•°è½¬æ¢ä¸ºä¸€ä¸ªå‰ç¼€ä¸º â€0oâ€œ çš„å…«è¿›åˆ¶å­—ç¬¦ä¸²ã€‚ç»“æœæ˜¯ä¸€ä¸ªåˆæ³•çš„ Python è¡¨è¾¾å¼ã€‚å¦‚æœ *x* ä¸æ˜¯ Python çš„ [`int`](https://docs.python.org/zh-cn/3/library/functions.html#int) å¯¹è±¡ï¼Œé‚£å®ƒéœ€è¦å®šä¹‰ [`__index__()`](https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__index__) æ–¹æ³•è¿”å›ä¸€ä¸ªæ•´æ•°ã€‚

```python
>>> oct(8)
'0o10'
>>> oct(-56)
'-0o70'
>>> class Sample:
... 	def __init__(self,value):
... 		self.value = value
... 	def __index__(self):
... 		return self.value
...
>>> oct(Sample(12))
'0o14'
```

å¦‚æœè¦å°†æ•´æ•°è½¬æ¢ä¸ºå…«è¿›åˆ¶å­—ç¬¦ä¸²ï¼Œå¹¶å¯é€‰æ‹©æœ‰æ— â€œ0oâ€å‰ç¼€ï¼Œåˆ™å¯ä»¥ä½¿ç”¨å¦‚ä¸‹æ–¹æ³•ï¼š

```python
>>> '%#o' % 10, '%o' % 10
('0o12', '12')
>>> format(10, '#o'), format(10, 'o')
('0o12', '12')
>>> f'{10:#o}', f'{10:o}'
('0o12', '12')
```

## open(*file*, *mode='r'*, *buffering=-1*, *encoding=None*, *errors=None*, *newline=None*, *closefd=True*, *opener=None*)

æ‰“å¼€ *file* å¹¶è¿”å›å¯¹åº”çš„ [file object](https://docs.python.org/zh-cn/3/glossary.html#term-file-object)ã€‚å¦‚æœè¯¥æ–‡ä»¶ä¸èƒ½æ‰“å¼€ï¼Œåˆ™è§¦å‘ [`OSError`](https://docs.python.org/zh-cn/3/library/exceptions.html#OSError)ã€‚

*file* æ˜¯ä¸€ä¸ª [path-like object](https://docs.python.org/zh-cn/3/glossary.html#term-path-like-object)ï¼Œè¡¨ç¤ºå°†è¦æ‰“å¼€çš„æ–‡ä»¶çš„è·¯å¾„ï¼ˆç»å¯¹è·¯å¾„æˆ–è€…å½“å‰å·¥ä½œç›®å½•çš„ç›¸å¯¹è·¯å¾„ï¼‰ï¼Œä¹Ÿå¯ä»¥æ˜¯è¦è¢«å°è£…çš„æ•´æ•°ç±»å‹æ–‡ä»¶æè¿°ç¬¦ã€‚ï¼ˆå¦‚æœæ˜¯æ–‡ä»¶æè¿°ç¬¦ï¼Œå®ƒä¼šéšç€è¿”å›çš„ I/O å¯¹è±¡å…³é—­è€Œå…³é—­ï¼Œé™¤é *closefd* è¢«è®¾ä¸º `False` ã€‚ï¼‰

*mode* æ˜¯ä¸€ä¸ªå¯é€‰å­—ç¬¦ä¸²ï¼Œç”¨äºæŒ‡å®šæ‰“å¼€æ–‡ä»¶çš„æ¨¡å¼ã€‚é»˜è®¤å€¼æ˜¯ `'r'` ï¼Œè¿™æ„å‘³ç€å®ƒä»¥æ–‡æœ¬æ¨¡å¼æ‰“å¼€å¹¶è¯»å–ã€‚å…¶ä»–å¸¸è§æ¨¡å¼æœ‰ï¼šå†™å…¥ `'w'` ï¼ˆæˆªæ–­å·²ç»å­˜åœ¨çš„æ–‡ä»¶ï¼‰ï¼›æ’å®ƒæ€§åˆ›å»º `'x'` ï¼›è¿½åŠ å†™ `'a'` ï¼ˆåœ¨ *ä¸€äº›* Unix ç³»ç»Ÿä¸Šï¼Œæ— è®ºå½“å‰çš„æ–‡ä»¶æŒ‡é’ˆåœ¨ä»€ä¹ˆä½ç½®ï¼Œ*æ‰€æœ‰* å†™å…¥éƒ½ä¼šè¿½åŠ åˆ°æ–‡ä»¶æœ«å°¾ï¼‰ã€‚åœ¨æ–‡æœ¬æ¨¡å¼ï¼Œå¦‚æœ *encoding* æ²¡æœ‰æŒ‡å®šï¼Œåˆ™æ ¹æ®å¹³å°æ¥å†³å®šä½¿ç”¨çš„ç¼–ç ï¼šä½¿ç”¨ `locale.getpreferredencoding(False)` æ¥è·å–æœ¬åœ°ç¼–ç ã€‚ï¼ˆè¦è¯»å–å’Œå†™å…¥åŸå§‹å­—èŠ‚ï¼Œè¯·ä½¿ç”¨äºŒè¿›åˆ¶æ¨¡å¼å¹¶ä¸è¦æŒ‡å®š *encoding*ã€‚ï¼‰å¯ç”¨çš„æ¨¡å¼æœ‰ï¼š

| å­—ç¬¦  | æ„ä¹‰                             |
| :---- | :------------------------------- |
| `'r'` | è¯»å–ï¼ˆé»˜è®¤ï¼‰                     |
| `'w'` | å†™å…¥ï¼Œå¹¶å…ˆæˆªæ–­æ–‡ä»¶               |
| `'x'` | æ’å®ƒæ€§åˆ›å»ºï¼Œå¦‚æœæ–‡ä»¶å·²å­˜åœ¨åˆ™å¤±è´¥ |
| `'a'` | å†™å…¥ï¼Œå¦‚æœæ–‡ä»¶å­˜åœ¨åˆ™åœ¨æœ«å°¾è¿½åŠ    |
| `'b'` | äºŒè¿›åˆ¶æ¨¡å¼                       |
| `'t'` | æ–‡æœ¬æ¨¡å¼ï¼ˆé»˜è®¤ï¼‰                 |
| `'+'` | æ‰“å¼€ç”¨äºæ›´æ–°ï¼ˆè¯»å–ä¸å†™å…¥ï¼‰       |

é»˜è®¤æ¨¡å¼ä¸º `'r'` (æ‰“å¼€ç”¨äºè¯»å–æ–‡æœ¬ï¼Œä¸ `'rt'` åŒä¹‰)ã€‚ æ¨¡å¼ `'w+'` ä¸ `'w+b'` å°†æ‰“å¼€æ–‡ä»¶å¹¶æ¸…ç©ºå†…å®¹ã€‚ æ¨¡å¼ `'r+'` ä¸ `'r+b'` å°†æ‰“å¼€æ–‡ä»¶å¹¶ä¸æ¸…ç©ºå†…å®¹ã€‚

PythonåŒºåˆ†äºŒè¿›åˆ¶å’Œæ–‡æœ¬I/Oã€‚ä»¥äºŒè¿›åˆ¶æ¨¡å¼æ‰“å¼€çš„æ–‡ä»¶ï¼ˆåŒ…æ‹¬ *mode* å‚æ•°ä¸­çš„ `'b'` ï¼‰è¿”å›çš„å†…å®¹ä¸º `bytes`å¯¹è±¡ï¼Œä¸è¿›è¡Œä»»ä½•è§£ç ã€‚åœ¨æ–‡æœ¬æ¨¡å¼ä¸‹ï¼ˆé»˜è®¤æƒ…å†µä¸‹ï¼Œæˆ–è€…åœ¨ *mode* å‚æ•°ä¸­åŒ…å« `'t'` ï¼‰æ—¶ï¼Œæ–‡ä»¶å†…å®¹è¿”å›ä¸º [`str`](https://docs.python.org/zh-cn/3/library/stdtypes.html#str) ï¼Œé¦–å…ˆä½¿ç”¨æŒ‡å®šçš„ *encoding* ï¼ˆå¦‚æœç»™å®šï¼‰æˆ–è€…ä½¿ç”¨å¹³å°é»˜è®¤çš„çš„å­—èŠ‚ç¼–ç è§£ç ã€‚

**Python ä¸ä¾èµ–äºåº•å±‚æ“ä½œç³»ç»Ÿçš„æ–‡æœ¬æ–‡ä»¶æ¦‚å¿µï¼›æ‰€æœ‰å¤„ç†éƒ½æœ‰ Python æœ¬èº«å®Œæˆï¼Œå› æ­¤ä¸å¹³å°æ— å…³**

*buffering* æ˜¯ä¸€ä¸ªå¯é€‰çš„æ•´æ•°ï¼Œç”¨äºè®¾ç½®ç¼“å†²ç­–ç•¥ã€‚ä¼ é€’0ä»¥åˆ‡æ¢ç¼“å†²å…³é—­ï¼ˆä»…å…è®¸åœ¨äºŒè¿›åˆ¶æ¨¡å¼ä¸‹ï¼‰ï¼Œ1é€‰æ‹©è¡Œç¼“å†²ï¼ˆä»…åœ¨æ–‡æœ¬æ¨¡å¼ä¸‹å¯ç”¨ï¼‰ï¼Œå¹¶ä¸”>1çš„æ•´æ•°ä»¥æŒ‡ç¤ºå›ºå®šå¤§å°çš„å—ç¼“å†²åŒºçš„å¤§å°ï¼ˆä»¥å­—èŠ‚ä¸ºå•ä½ï¼‰ã€‚å¦‚æœæ²¡æœ‰ç»™å‡º *buffering* å‚æ•°ï¼Œåˆ™é»˜è®¤ç¼“å†²ç­–ç•¥çš„å·¥ä½œæ–¹å¼å¦‚ä¸‹:

- äºŒè¿›åˆ¶æ–‡ä»¶ä»¥å›ºå®šå¤§å°çš„å—è¿›è¡Œç¼“å†²ï¼›ä½¿ç”¨å¯å‘å¼æ–¹æ³•é€‰æ‹©ç¼“å†²åŒºçš„å¤§å°ï¼Œå°è¯•ç¡®å®šåº•å±‚è®¾å¤‡çš„â€œå—å¤§å°â€æˆ–ä½¿ç”¨ [`io.DEFAULT_BUFFER_SIZE`](https://docs.python.org/zh-cn/3/library/io.html#io.DEFAULT_BUFFER_SIZE)ã€‚åœ¨è®¸å¤šç³»ç»Ÿä¸Šï¼Œç¼“å†²åŒºçš„é•¿åº¦é€šå¸¸ä¸º4096æˆ–8192å­—èŠ‚ã€‚
- â€œäº¤äº’å¼â€æ–‡æœ¬æ–‡ä»¶ï¼ˆ [`isatty()`](https://docs.python.org/zh-cn/3/library/io.html#io.IOBase.isatty) è¿”å› `True` çš„æ–‡ä»¶ï¼‰ä½¿ç”¨è¡Œç¼“å†²ã€‚å…¶ä»–æ–‡æœ¬æ–‡ä»¶ä½¿ç”¨ä¸Šè¿°ç­–ç•¥ç”¨äºäºŒè¿›åˆ¶æ–‡ä»¶ã€‚

*encoding* æ˜¯ç”¨äºè§£ç æˆ–ç¼–ç æ–‡ä»¶çš„ç¼–ç çš„åç§°ã€‚è¿™åº”è¯¥åªåœ¨æ–‡æœ¬æ¨¡å¼ä¸‹ä½¿ç”¨ã€‚é»˜è®¤ç¼–ç æ˜¯ä¾èµ–äºå¹³å°çš„ï¼ˆä¸ ç®¡ [`locale.getpreferredencoding()`](https://docs.python.org/zh-cn/3/library/locale.html#locale.getpreferredencoding) è¿”å›ä½•å€¼ï¼‰ï¼Œä½†å¯ä»¥ä½¿ç”¨ä»»ä½•Pythonæ”¯æŒçš„ [text encoding](https://docs.python.org/zh-cn/3/glossary.html#term-text-encoding) ã€‚æœ‰å…³æ”¯æŒçš„ç¼–ç åˆ—è¡¨ï¼Œè¯·å‚é˜… [`codecs`](https://docs.python.org/zh-cn/3/library/codecs.html#module-codecs) æ¨¡å—ã€‚

*errors* æ˜¯ä¸€ä¸ªå¯é€‰çš„å­—ç¬¦ä¸²å‚æ•°ï¼Œç”¨äºæŒ‡å®šå¦‚ä½•å¤„ç†ç¼–ç å’Œè§£ç é”™è¯¯ - è¿™ä¸èƒ½åœ¨äºŒè¿›åˆ¶æ¨¡å¼ä¸‹ä½¿ç”¨ã€‚å¯ä»¥ä½¿ç”¨å„ç§æ ‡å‡†é”™è¯¯å¤„ç†ç¨‹åºï¼ˆåˆ—åœ¨ [é”™è¯¯å¤„ç†æ–¹æ¡ˆ](https://docs.python.org/zh-cn/3/library/codecs.html#error-handlers) ï¼‰ï¼Œä½†æ˜¯ä½¿ç”¨ [`codecs.register_error()`](https://docs.python.org/zh-cn/3/library/codecs.html#codecs.register_error) æ³¨å†Œçš„ä»»ä½•é”™è¯¯å¤„ç†åç§°ä¹Ÿæ˜¯æœ‰æ•ˆçš„ã€‚æ ‡å‡†åç§°åŒ…æ‹¬:

- å¦‚æœå­˜åœ¨ç¼–ç é”™è¯¯ï¼Œ`'strict'` ä¼šå¼•å‘ [`ValueError`](https://docs.python.org/zh-cn/3/library/exceptions.html#ValueError) å¼‚å¸¸ã€‚ é»˜è®¤å€¼ `None` å…·æœ‰ç›¸åŒçš„æ•ˆæœã€‚
- `'ignore'` å¿½ç•¥é”™è¯¯ã€‚è¯·æ³¨æ„ï¼Œå¿½ç•¥ç¼–ç é”™è¯¯å¯èƒ½ä¼šå¯¼è‡´æ•°æ®ä¸¢å¤±ã€‚
- `'replace'` ä¼šå°†æ›¿æ¢æ ‡è®°ï¼ˆä¾‹å¦‚ `'?'` ï¼‰æ’å…¥æœ‰é”™è¯¯æ•°æ®çš„åœ°æ–¹ã€‚
- `'surrogateescape'` å°†è¡¨ç¤ºä»»ä½•ä¸æ­£ç¡®çš„å­—èŠ‚ä½œä¸ºUnicodeä¸“ç”¨åŒºä¸­çš„ä»£ç ç‚¹ï¼ŒèŒƒå›´ä»U+DC80åˆ°U+DCFFã€‚å½“åœ¨å†™å…¥æ•°æ®æ—¶ä½¿ç”¨ `surrogateescape` é”™è¯¯å¤„ç†ç¨‹åºæ—¶ï¼Œè¿™äº›ç§æœ‰ä»£ç ç‚¹å°†è¢«è½¬å›åˆ°ç›¸åŒçš„å­—èŠ‚ä¸­ã€‚è¿™å¯¹äºå¤„ç†æœªçŸ¥ç¼–ç çš„æ–‡ä»¶å¾ˆæœ‰ç”¨ã€‚
- åªæœ‰åœ¨å†™å…¥æ–‡ä»¶æ—¶æ‰æ”¯æŒ `'xmlcharrefreplace'`ã€‚ç¼–ç ä¸æ”¯æŒçš„å­—ç¬¦å°†æ›¿æ¢ä¸ºç›¸åº”çš„XMLå­—ç¬¦å¼•ç”¨ `&#nnn;`ã€‚
- `'backslashreplace'` ç”¨Pythonçš„åå‘è½¬ä¹‰åºåˆ—æ›¿æ¢æ ¼å¼é”™è¯¯çš„æ•°æ®ã€‚
- `'namereplace'` ï¼ˆä¹Ÿåªåœ¨ç¼–å†™æ—¶æ”¯æŒï¼‰ç”¨ `\N{...}` è½¬ä¹‰åºåˆ—æ›¿æ¢ä¸æ”¯æŒçš„å­—ç¬¦ã€‚

*newline* æ§åˆ¶ [universal newlines](https://docs.python.org/zh-cn/3/glossary.html#term-universal-newlines) æ¨¡å¼å¦‚ä½•ç”Ÿæ•ˆï¼ˆå®ƒä»…é€‚ç”¨äºæ–‡æœ¬æ¨¡å¼ï¼‰ã€‚å®ƒå¯ä»¥æ˜¯ `None`ï¼Œ`''`ï¼Œ`'\n'`ï¼Œ`'\r'` å’Œ `'\r\n'`ã€‚å®ƒçš„å·¥ä½œåŸç†:

- ä»æµä¸­è¯»å–è¾“å…¥æ—¶ï¼Œå¦‚æœ *newline* ä¸º `None`ï¼Œåˆ™å¯ç”¨é€šç”¨æ¢è¡Œæ¨¡å¼ã€‚è¾“å…¥ä¸­çš„è¡Œå¯ä»¥ä»¥ `'\n'`ï¼Œ`'\r'` æˆ– `'\r\n'` ç»“å°¾ï¼Œè¿™äº›è¡Œè¢«ç¿»è¯‘æˆ `'\n'` åœ¨è¿”å›å‘¼å«è€…ä¹‹å‰ã€‚å¦‚æœå®ƒæ˜¯ `''`ï¼Œåˆ™å¯ç”¨é€šç”¨æ¢è¡Œæ¨¡å¼ï¼Œä½†è¡Œç»“å°¾å°†è¿”å›ç»™è°ƒç”¨è€…æœªç¿»è¯‘ã€‚å¦‚æœå®ƒå…·æœ‰ä»»ä½•å…¶ä»–åˆæ³•å€¼ï¼Œåˆ™è¾“å…¥è¡Œä»…ç”±ç»™å®šå­—ç¬¦ä¸²ç»ˆæ­¢ï¼Œå¹¶ä¸”è¡Œç»“å°¾å°†è¿”å›ç»™æœªè°ƒç”¨çš„è°ƒç”¨è€…ã€‚
- å°†è¾“å‡ºå†™å…¥æµæ—¶ï¼Œå¦‚æœ *newline* ä¸º `None`ï¼Œåˆ™å†™å…¥çš„ä»»ä½• `'\n'` å­—ç¬¦éƒ½å°†è½¬æ¢ä¸ºç³»ç»Ÿé»˜è®¤è¡Œåˆ†éš”ç¬¦ [`os.linesep`](https://docs.python.org/zh-cn/3/library/os.html#os.linesep)ã€‚å¦‚æœ *newline* æ˜¯ `''` æˆ– `'\n'`ï¼Œåˆ™ä¸è¿›è¡Œç¿»è¯‘ã€‚å¦‚æœ *newline* æ˜¯ä»»ä½•å…¶ä»–åˆæ³•å€¼ï¼Œåˆ™å†™å…¥çš„ä»»ä½• `'\n'` å­—ç¬¦å°†è¢«è½¬æ¢ä¸ºç»™å®šçš„å­—ç¬¦ä¸²ã€‚

å¦‚æœ *closefd* æ˜¯ `False` å¹¶ä¸”ç»™å‡ºäº†æ–‡ä»¶æè¿°ç¬¦è€Œä¸æ˜¯æ–‡ä»¶åï¼Œé‚£ä¹ˆå½“æ–‡ä»¶å…³é—­æ—¶ï¼Œåº•å±‚æ–‡ä»¶æè¿°ç¬¦å°†ä¿æŒæ‰“å¼€çŠ¶æ€ã€‚å¦‚æœç»™å‡ºæ–‡ä»¶ååˆ™ *closefd* å¿…é¡»ä¸º `True` ï¼ˆé»˜è®¤å€¼ï¼‰ï¼Œå¦åˆ™å°†å¼•å‘é”™è¯¯ã€‚

## ord(*c*)

ä»¥ä¸€ä¸ªå­—ç¬¦ä¸²ï¼ˆUnicode å­—ç¬¦ï¼‰ä½œä¸ºå‚æ•°ï¼Œè¿”å›å¯¹åº”çš„ ASCII æ•°å€¼ï¼Œæˆ–è€… Unicode æ•°å€¼ã€‚

æ˜¯ `chr()` çš„é€†å‡½æ•°

```python
>>>ord('a')
97
>>> ord('â‚¬')
8364
```

## pow(*base*, *exp*[, *mod*])

è¿”å› *base* çš„ *exp* æ¬¡å¹‚ï¼›å¦‚æœ *mod* å­˜åœ¨ï¼Œåˆ™è¿”å› *base* çš„ *exp* æ¬¡å¹‚å¯¹ *mod* å–ä½™ï¼ˆæ¯” `pow(base, exp) % mod` æ›´é«˜æ•ˆï¼‰ã€‚ ä¸¤å‚æ•°å½¢å¼ `pow(base, exp)` ç­‰ä»·äºä¹˜æ–¹è¿ç®—ç¬¦: `base**exp`ã€‚

å‚æ•°å¿…é¡»å…·æœ‰æ•°å€¼ç±»å‹ã€‚ å¯¹äºæ··ç”¨çš„æ“ä½œæ•°ç±»å‹ï¼Œåˆ™å°†åº”ç”¨åŒç›®ç®—æœ¯è¿ç®—ç¬¦çš„ç±»å‹å¼ºåˆ¶è½¬æ¢è§„åˆ™ã€‚ å¯¹äº [`int`](https://docs.python.org/zh-cn/3/library/functions.html#int) æ“ä½œæ•°ï¼Œç»“æœå…·æœ‰ä¸æ“ä½œæ•°ç›¸åŒçš„ç±»å‹ï¼ˆå¼ºåˆ¶è½¬æ¢åï¼‰ï¼Œé™¤éç¬¬äºŒä¸ªå‚æ•°ä¸ºè´Ÿå€¼ï¼›åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ‰€æœ‰å‚æ•°å°†è¢«è½¬æ¢ä¸ºæµ®ç‚¹æ•°å¹¶è¾“å‡ºæµ®ç‚¹æ•°ç»“æœã€‚ ä¾‹å¦‚ï¼Œ`10**2` è¿”å› `100`ï¼Œä½† `10**-2` è¿”å› `0.01`ã€‚

å¯¹äº [`int`](https://docs.python.org/zh-cn/3/library/functions.html#int) æ“ä½œæ•° *base* å’Œ *exp*ï¼Œå¦‚æœç»™å‡º *mod*ï¼Œåˆ™ *mod* å¿…é¡»ä¸ºæ•´æ•°ç±»å‹å¹¶ä¸” *mod* å¿…é¡»ä¸ä¸ºé›¶ã€‚ å¦‚æœç»™å‡º *mod* å¹¶ä¸” *exp* ä¸ºè´Ÿå€¼ï¼Œåˆ™ *base* å¿…é¡»ç›¸å¯¹äº *mod* ä¸å¯æ•´é™¤ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå°†ä¼šè¿”å› `pow(inv_base, -exp, mod)`ï¼Œå…¶ä¸­ *inv_base* ä¸º *base* çš„å€’æ•°å¯¹ *mod* å–ä½™ã€‚

ä¸‹é¢çš„ä¾‹å­æ˜¯ `38` çš„å€’æ•°å¯¹ `97` å–ä½™:

```python
>>> pow(38, -1, mod=97)
23
>>> 23 * 38 % 97 == 1
True
```

## print(**objects*, *sep=' '*, *end='\n'*, *file=sys.stdout*, *flush=False*)

å°† *objects* æ‰“å°åˆ° *file* æŒ‡å®šçš„æ–‡æœ¬æµï¼Œä»¥ *sep* åˆ†éš”å¹¶åœ¨æœ«å°¾åŠ ä¸Š *end*ã€‚ *sep*, *end*, *file* å’Œ *flush* å¦‚æœå­˜åœ¨ï¼Œå®ƒä»¬å¿…é¡»ä»¥ **å…³é”®å­—å‚æ•°** çš„å½¢å¼ç»™å‡ºã€‚

æ‰€æœ‰éå…³é”®å­—å‚æ•°éƒ½ä¼šè¢«è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œå°±åƒæ˜¯æ‰§è¡Œäº† [`str()`](https://docs.python.org/zh-cn/3/library/stdtypes.html#str) ä¸€æ ·ï¼Œå¹¶ä¼šè¢«å†™å…¥åˆ°æµï¼Œä»¥ *sep* ä¸”åœ¨æœ«å°¾åŠ ä¸Š *end*ã€‚ *sep* å’Œ *end* éƒ½å¿…é¡»ä¸ºå­—ç¬¦ä¸²ï¼›å®ƒä»¬ä¹Ÿå¯ä»¥ä¸º `None`ï¼Œè¿™æ„å‘³ç€ä½¿ç”¨é»˜è®¤å€¼ã€‚ å¦‚æœæ²¡æœ‰ç»™å‡º *objects*ï¼Œåˆ™ [`print()`](https://docs.python.org/zh-cn/3/library/functions.html#print) å°†åªå†™å…¥ *end*ã€‚

*file* å‚æ•°å¿…é¡»æ˜¯ä¸€ä¸ªå…·æœ‰ `write(string)` æ–¹æ³•çš„å¯¹è±¡ï¼›å¦‚æœå‚æ•°ä¸å­˜åœ¨æˆ–ä¸º `None`ï¼Œåˆ™å°†ä½¿ç”¨ [`sys.stdout`](https://docs.python.org/zh-cn/3/library/sys.html#sys.stdout)ã€‚ ç”±äºè¦æ‰“å°çš„å‚æ•°ä¼šè¢«è½¬æ¢ä¸ºæ–‡æœ¬å­—ç¬¦ä¸²ï¼Œå› æ­¤ [`print()`](https://docs.python.org/zh-cn/3/library/functions.html#print) ä¸èƒ½ç”¨äºäºŒè¿›åˆ¶æ¨¡å¼çš„æ–‡ä»¶å¯¹è±¡ã€‚ å¯¹äºè¿™äº›å¯¹è±¡ï¼Œåº”æ”¹ç”¨ `file.write(...)`ã€‚

è¾“å‡ºæ˜¯å¦è¢«ç¼“å­˜é€šå¸¸å†³å®šäº *file*ï¼Œä½†å¦‚æœ *flush* å…³é”®å­—å‚æ•°ä¸ºçœŸå€¼ï¼Œæµä¼šè¢«å¼ºåˆ¶åˆ·æ–°ã€‚

```python
>>> print()  #æ¢è¡Œï¼ˆend='\n'ï¼‰

>>> print("Hello World")  
Hello World  
 
>>> a = 1
>>> b = 'runoob'
>>> print(a,b)
1 runoob
 
>>> print("aaa""bbb")
aaabbb
>>> print("aaa","bbb")
aaa bbb
>>> 
 
>>> print("www","runoob","com",sep=".")  # è®¾ç½®é—´éš”ç¬¦
www.runoob.com
>>> for i in range(5):   #è®¾ç½® end ä¸æ¢è¡Œ
... 	print(i,end = '')   
...
12345
```

ä½¿ç”¨ *flush* å‚æ•°ç”Ÿæˆä¸€ä¸ª Loading çš„æ•ˆæœï¼š

```python
import time

print("---RUNOOB EXAMPLE ï¼š Loading æ•ˆæœ---")

print("Loading",end = "")
for i in range(20):
    print(".",end = '',flush = True)
    time.sleep(0.5)
```

æ•ˆæœå¦‚ä¸‹ï¼š

![img](https://www.runoob.com/wp-content/uploads/2017/04/loading-example.gif)

## *class* property(*fget=None*, *fset=None*, *fdel=None*, *doc=None*)

è¿”å›æ–°å¼ç±»å±æ€§

*fget* æ˜¯è·å–å±æ€§å€¼çš„å‡½æ•°ã€‚ *fset* æ˜¯ç”¨äºè®¾ç½®å±æ€§å€¼çš„å‡½æ•°ã€‚ *fdel* æ˜¯ç”¨äºåˆ é™¤å±æ€§å€¼çš„å‡½æ•°ã€‚å¹¶ä¸” *doc* ä¸ºå±æ€§æè¿°ä¿¡æ¯ã€‚

å®šä¹‰ä¸€ä¸ªå¯æ§å±æ€§å€¼ x

```python
class C(object):
    def __init__(self):
        self._x = None
 
    def getx(self):
        return self._x
 
    def setx(self, value):
        self._x = value
 
    def delx(self):
        del self._x
 
    x = property(getx, setx, delx, "I'm the 'x' property.")

c=C()
print(c.x) #ç©º
c.x=3   #è®¾ç½®å±æ€§ä¿¡æ¯
print(c.x) #3
del c.x  #åˆ é™¤å±æ€§
print(c.x) #å¼‚å¸¸ï¼ŒAttributeError: 'C' object has no attribute '_x'
print(C.x.__doc__)  #"I'm the 'x' property."

```

å¦‚æœ *c* æ˜¯ *C* çš„å®ä¾‹åŒ–, c.x å°†è§¦å‘ getter,c.x = value å°†è§¦å‘ setter ï¼Œ del c.x è§¦å‘ deleterã€‚å¦‚æœç»™å®š doc å‚æ•°ï¼Œå…¶å°†æˆä¸ºè¿™ä¸ªå±æ€§å€¼çš„ docstringï¼Œå¦åˆ™ property å‡½æ•°å°±ä¼šå¤åˆ¶ fget å‡½æ•°çš„ docstringï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰ã€‚

å°† property å‡½æ•°ç”¨ä½œè£…é¥°å™¨å¯ä»¥å¾ˆæ–¹ä¾¿çš„åˆ›å»ºåªè¯»å±æ€§ï¼š

```python
class Parrot(object):
    def __init__(self):
        self._voltage = 100000
 
    @property
    def voltage(self):
        """Get the current voltage."""
        return self._voltage
    
p = Parrot()
print(p._voltage)  #100000  ç›´æ¥è®¿é—®å±æ€§
print(p.vpltage)  #100000  é€šè¿‡getteræ–¹æ³•è·å–å±æ€§
```

ä»¥ä¸Š `@property` è£…é¥°å™¨ä¼šå°† `voltage()` æ–¹æ³•è½¬åŒ–ä¸ºä¸€ä¸ªå…·æœ‰ç›¸åŒåç§°çš„åªè¯»å±æ€§çš„ "getter"ï¼Œå¹¶å°† *voltage* çš„æ–‡æ¡£å­—ç¬¦ä¸²è®¾ç½®ä¸º "Get the current voltage."

ç‰¹å¾å±æ€§å¯¹è±¡å…·æœ‰ `getter`, `setter` ä»¥åŠ `deleter` æ–¹æ³•ï¼Œå®ƒä»¬å¯ç”¨ä½œè£…é¥°å™¨æ¥åˆ›å»ºè¯¥ç‰¹å¾å±æ€§çš„å‰¯æœ¬ï¼Œå¹¶å°†ç›¸åº”çš„è®¿é—®å‡½æ•°è®¾ä¸ºæ‰€è£…é¥°çš„å‡½æ•°ã€‚ è¿™æœ€å¥½æ˜¯ç”¨ä¸€ä¸ªä¾‹å­æ¥è§£é‡Š:

```python
class C:
    def __init__(self):
        self._x = None

    @property
    def x(self):
        """I'm the 'x' property."""
        return self._x

    @x.setter
    def x(self, value):
        self._x = value

    @x.deleter
    def x(self):
        del self._x
```

ä¸Šè¿°ä»£ç ä¸ç¬¬ä¸€ä¸ªä¾‹å­å®Œå…¨ç­‰ä»·ã€‚ æ³¨æ„ä¸€å®šè¦ç»™é™„åŠ å‡½æ•°ä¸åŸå§‹çš„ç‰¹å¾å±æ€§ç›¸åŒçš„åç§° (åœ¨æœ¬ä¾‹ä¸­ä¸º `x`ã€‚)

è¿”å›çš„ç‰¹å¾å±æ€§å¯¹è±¡åŒæ ·å…·æœ‰ä¸æ„é€ å™¨å‚æ•°ç›¸å¯¹åº”çš„å±æ€§ `fget`, `fset` å’Œ `fdel`ã€‚

## range(*stop*) | range(*start*, *stop*[, *step*])

è¿”å›ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ï¼ˆç±»å‹æ˜¯å¯¹è±¡ï¼Œä¸æ˜¯åˆ—è¡¨ï¼‰ï¼Œ`list()` å‡½æ•°æ˜¯å¯¹è±¡è¿­ä»£å™¨ï¼Œå¯ä»¥æŠŠrange()è¿”å›çš„å¯è¿­ä»£å¯¹è±¡è½¬ä¸ºä¸€ä¸ªåˆ—è¡¨ï¼Œè¿”å›çš„å˜é‡ç±»å‹ä¸ºåˆ—è¡¨ã€‚

*start* åˆå§‹å€¼ï¼Œè®¡æ•°ä» *start* å¼€å§‹ï¼Œé»˜è®¤ä» 0 å¼€å§‹ã€‚ä¾‹å¦‚ï¼šrange(5) ç­‰ä»·äº range(0, 5)

*stop* ç»“æŸå€¼ï¼Œè®¡æ•°åˆ° *stop* ç»“æŸï¼Œä½†ä¸åŒ…æ‹¬ *stop*ã€‚ä¾‹å¦‚ï¼šrange(5) æ˜¯ [0, 1, 2, 3, 4] æ²¡æœ‰ 5

step æ­¥é•¿ï¼Œé»˜è®¤ä¸º 1ã€‚ä¾‹å¦‚ï¼šrange(0, 5) ç­‰ä»·äº range(0, 5, 1)

```python
>>> range(5)  #rangeå¯¹è±¡
range(0, 5)
>>> for i in range(5):
... 	print(i, end=',',flush=True)
...
0,1,2,3,4,
>>> list(range(5))
[0, 1, 2, 3, 4]
>>> list(range(0))
[]
>>>list(range(0, 30, 5))
[0, 5, 10, 15, 20, 25]
>>> list(range(0, 10, 2))
[0, 2, 4, 6, 8]
>>> list(range(0, -10, -1))
[0, -1, -2, -3, -4, -5, -6, -7, -8, -9]
>>> list(range(1, 0))
[]
```

## repr(*object*)

è¿”å›å¯¹è±¡çš„ *string* å½¢å¼ï¼Œå¯¹äºè®¸å¤šç±»å‹æ¥è¯´ï¼Œå‡½æ•°è¿”å›çš„å­—ç¬¦ä¸²å’Œå¯¹è±¡ä¼ é€’ç»™ `eval()` æ‰€äº§ç”Ÿçš„å¯¹è±¡å…·æœ‰ç›¸åŒçš„å€¼ã€‚å…¶ä»–æƒ…å†µä¸‹ï¼Œè¿”å›å€¼æ˜¯ä¸€ä¸ªæ‹¬åœ¨å°–æ‹¬å·ä¸­çš„å­—ç¬¦ä¸²ï¼Œå…¶ä¸­åŒ…æ‹¬å¯¹è±¡ç±»å‹çš„åç§°ä¸é€šå¸¸åŒ…æ‹¬å¯¹è±¡åç§°å’Œåœ°å€çš„é™„åŠ ä¿¡æ¯ã€‚ç±»å¯ä»¥é€šè¿‡å®šä¹‰ `__repr__()`æ–¹æ³•æ¥æ§åˆ¶å‡½æ•°è¿”å›çš„å†…å®¹ã€‚

ä¸ `ascii()` ç±»ä¼¼ï¼Œä¸åŒçš„æ˜¯ `ascii()` ä¼šä½¿ç”¨è½¬ä¹‰åºåˆ—ï¼ˆ`\x`,`\u`,`\U`ï¼‰æ¥è¡¨ç¤ºå…¶ä¸­çš„é ASCII ç å­—ç¬¦ã€‚

```python
>>> repr('Âµ')
"'Âµ'"
>>> repr('é²¸')
"'é²¸'"
>>> repr("ğŸ˜Š")
"'ğŸ˜Š'"

>>> ascii('Âµ')
"'\\xb5'"
>>> ascii('é²¸')
"'\\u9cb8'"
>>> ascii("ğŸ˜Š")
"'\\U0001f60a'"
```

å…¶ä»–æƒ…å†µï¼Œè¿”å›å¯¹è±¡ä¿¡æ¯

```python
class Sample:
    def __init__(self,value):
        self.value = value
    def __repr__(self):   # å®šä¹‰ __repr__() æ–¹æ³•æ§åˆ¶è¿”å›å€¼
        return str(self.value)
    
repr(Sample)    # "<class '__main__.Sample'>"
repr(Sample(3))   # '3'
```

## reversed(*seq*)

è¿”å›ä¸€ä¸ªåå‘çš„è¿­ä»£å™¨ã€‚*seq* å¿…é¡»æ˜¯ä¸€ä¸ªå…·æœ‰ [`__reversed__()`](https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__reversed__) æ–¹æ³•çš„å¯¹è±¡æˆ–è€…æ˜¯æ”¯æŒè¯¥åºåˆ—åè®®ï¼ˆå…·æœ‰ä» `0` å¼€å§‹çš„æ•´æ•°ç±»å‹å‚æ•°çš„ [`__len__()`](https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__len__) æ–¹æ³•å’Œ [`__getitem__()`](https://docs.python.org/zh-cn/3/reference/datamodel.html#object.__getitem__) æ–¹æ³•ï¼‰ã€‚

```python
>>> reversed('1234')  # è¿”å›çš„æ˜¯ä¸€ä¸ª iterator
<reversed at 0x233b18947b8>
>>> list(reversed('Runoob'))  # å­—ç¬¦ä¸²
['b', 'o', 'o', 'n', 'u', 'R']
>>> list(reversed((1,2,3,4)))  # å…ƒç»„
[4, 3, 2, 1]
>>> list(reversed([1,2,3,4,5]))  # åˆ—è¡¨
[5, 4, 3, 2, 1]
>>> list(reversed(range(5)))  # range
[4, 3, 2, 1, 0]
```

## round(*number*[, *ndigits*])

è¿”å› *number* èˆå…¥åˆ°å°æ•°ç‚¹å *ndigits* ä½ç²¾åº¦çš„å€¼ã€‚

å¦‚æœ *ndigits* è¢«çœç•¥æˆ–ä¸º Noneï¼Œåˆ™è¿”å›æœ€æ¥è¿‘è¾“å…¥å€¼çš„æ•´æ•°ã€‚å¦åˆ™è¿”å›å€¼ä¸ *number* çš„ç±»å‹ç›¸åŒã€‚

```python
# ndigitsä¸å­˜åœ¨æ—¶ï¼Œè¿”å›æ¥è¿‘æ•´æ•°
>>> round(3.14) 
3
>>> round(3.54)
4

#ndigitså­˜åœ¨æ—¶ï¼Œè¿”å›å€¼ä¸numberç±»å‹ç›¸åŒ
>>> round(3,4)
3
>>> round(3.14,0) #æµ®ç‚¹æ•°ç±»å‹ï¼Œ0è¡¨ç¤ºå¯¹å°æ•°ç‚¹åç¬¬ä¸€ä½å–èˆ
3.0
>>> round(3.14,-1) #è´Ÿæ•°è¡¨ç¤ºä»å³åˆ°å·¦å¯¹æ•´æ•°è¿›è¡Œå–èˆ
0.0
```

*ndigits* å¯ä»¥æ˜¯ä»»æ„æ•´æ•°å€¼ï¼ˆæ­£æ•°ï¼Œ0ï¼Œè´Ÿæ•°å‡å¯ï¼‰ï¼Œ<0 è¡¨ç¤ºå¯¹æ•´æ•°ä½è¿›è¡Œå–èˆ

```python
>>> round(1234.1234,1)  #ä¿ç•™1ä½ç²¾åº¦
1234.1
>>> round(1234.1234,0)  #å¯¹å°æ•°ä½ç¬¬ä¸€ä½å–èˆ
1234.0
>>> round(1234.5234,0)  #å¯¹å°æ•°ä½ç¬¬ä¸€ä½å–èˆ
1235.0
>>> round(1234.1234,-1)  #å¯¹ä¸ªä½è¿›è¡Œå–èˆ
1230.0
>>> round(1234.1234,-2)  #å¯¹åä½è¿›è¡Œå–èˆ
1200.0
>>> round(1234.1234,-3)  #å¯¹ç™¾ä½è¿›è¡Œå–èˆ
1000.0
>>> round(1234.1234,-4)  #å¯¹åƒä½è¿›è¡Œå–èˆ
0.0
>>> round(5234.1234, -4)  #å¯¹åƒä½è¿›è¡Œå–èˆ
10000.0
```

å¯¹äºæ”¯æŒ [`round()`](https://docs.python.org/zh-cn/3/library/functions.html#round) çš„å†…ç½®ç±»å‹ï¼Œå€¼ä¼šè¢«èˆå…¥åˆ°æœ€æ¥è¿‘çš„ 10 çš„è´Ÿ *ndigits* æ¬¡å¹‚çš„å€æ•°ï¼›å¦‚æœä¸ä¸¤ä¸ªå€æ•°çš„è·ç¦»ç›¸ç­‰ï¼Œåˆ™é€‰æ‹©å¶æ•° (å› æ­¤ï¼Œ`round(0.5)` å’Œ `round(-0.5)` å‡ä¸º `0` è€Œ `round(1.5)` ä¸º `2`)ã€‚

```python
>>> round(3.14,1)  #å€¼ä¸ºæœ€æ¥è¿‘çš„10^-1=0.1çš„å€æ•°(3.1/3.2æœ€æ¥è¿‘3.1)
3.1
>>> round(3.145,2)  # 

>>> round(0.5,0) #è·ç¦»ç›¸ç­‰çš„å€¼ï¼ˆ0/1ï¼‰ï¼Œå‘å¶æ•°å–ï¼ˆ0ï¼‰ï¼Œç±»å‹ä¸0.5ç›¸åŒ
0.0
>>> round(1.5,0) #è·ç¦»ç›¸ç­‰çš„å€¼ï¼ˆ1/2ï¼‰ï¼Œå‘å¶æ•°å–ï¼ˆ2ï¼‰ï¼Œç±»å‹ä¸1.5ç›¸åŒ
2.0
```

åœ¨è¿›è¡Œèˆå…¥æ—¶ï¼Œè¿˜åº”è€ƒè™‘åˆ°æµ®ç‚¹è¿ç®—å­˜åœ¨çš„é™åˆ¶ï¼šåè¿›åˆ¶æ•°çš„å°æ•°éƒ¨åˆ†å¤§å¤šä¸èƒ½ä½¿ç”¨æµ®ç‚¹æ•°ç²¾ç¡®è¡¨ç¤º(å¯é˜…è¯» [Floating Point Arithmetic: Issues and Limitations](https://docs.python.org/3.7/tutorial/floatingpoint.html#tut-fp-issues))ã€‚æ¯”å¦‚åœ¨ä¸‹é¢è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œå®é™…ä¸Šæµ®ç‚¹æ•° `2.675` ç¦» `2.67` æ›´è¿‘ï¼Œå› æ­¤èˆå…¥ç»“æœæ˜¯ `2.67` è€Œä¸æ˜¯æˆ‘ä»¬é¢„æœŸä¸­çš„ `2.68`ã€‚è¿™æ˜¯ç”±äºå¤§å¤šæ•°åè¿›åˆ¶éƒ½ä¸èƒ½ç²¾ç¡®çš„è¡¨ç¤ºä¸ºäºŒè¿›åˆ¶å°æ•°ï¼Œè¿™å¯¼è‡´åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œä½ è¾“å…¥çš„åè¿›åˆ¶æµ®ç‚¹æ•°éƒ½åªèƒ½è¿‘ä¼¼åœ°ä»¥äºŒè¿›åˆ¶æµ®ç‚¹æ•°å½¢å¼å‚¨å­˜åœ¨è®¡ç®—æœºä¸­ã€‚

```python
>>> format(2.675, '.20')
'2.6749999999999998224'
>>> round(2.675, 2)  #å€¼æœ€æ¥è¿‘10^-2=0.01çš„å€æ•°ï¼ˆ2.67ä¸2.68å–2.67ï¼‰
2.67

>>> format(0.15,'.20')
'0.14999999999999999445'
>>> round(0.15,1)
0.1
```

å­—ç¬¦ä¸²æ ¼å¼åŒ–å¯ä»¥è·å–æ›´é«˜çš„ç²¾åº¦ï¼ˆå®é™…æ˜¯å°†çœŸæ­£çš„æœºå™¨ç å€¼è¿›è¡Œäº†èˆå…¥æ“ä½œå†æ˜¾ç¤ºï¼‰

```python
>>> import math
>>> format(math.pi, '.12g')
'3.14159265359'
>>> format(math.pi, '.2f')
'3.14'
>>> repr(math.pi)
3.141592653589793
```

å¯¹äºéœ€è¦ç²¾ç¡®åè¿›åˆ¶è¡¨ç¤ºçš„ä½¿ç”¨åœºæ™¯ï¼Œè¯·å°è¯•ä½¿ç”¨ [`decimal`](https://docs.python.org/zh-cn/3/library/decimal.html#module-decimal) æ¨¡å—ï¼Œè¯¥æ¨¡å—å®ç°äº†é€‚åˆä¼šè®¡åº”ç”¨å’Œé«˜ç²¾åº¦åº”ç”¨çš„åè¿›åˆ¶è¿ç®—ã€‚

å¦ä¸€ç§å½¢å¼çš„ç²¾ç¡®è¿ç®—ç”± [`fractions`](https://docs.python.org/zh-cn/3/library/fractions.html#module-fractions) æ¨¡å—æä¾›æ”¯æŒï¼Œè¯¥æ¨¡å—å®ç°äº†åŸºäºæœ‰ç†æ•°çš„ç®—æœ¯è¿ç®—ï¼ˆå› æ­¤å¯ä»¥ç²¾ç¡®è¡¨ç¤ºåƒ 1/3 è¿™æ ·çš„æ•°å€¼ï¼‰ã€‚

å¦‚æœä½ æ˜¯æµ®ç‚¹è¿ç®—çš„é‡åº¦ç”¨æˆ·ï¼Œä½ åº”è¯¥çœ‹ä¸€ä¸‹æ•°å€¼è¿ç®— Python åŒ… NumPy ä»¥åŠç”± SciPy é¡¹ç›®æ‰€æä¾›çš„è®¸å¤šå…¶å®ƒæ•°å­¦å’Œç»Ÿè®¡è¿ç®—åŒ…ã€‚ å‚è§ < [https://scipy.org](https://scipy.org/) >ã€‚

Python ä¹Ÿæä¾›äº†ä¸€äº›å·¥å…·ï¼Œå¯ä»¥åœ¨ä½ çœŸçš„ *æƒ³è¦* çŸ¥é“ä¸€ä¸ªæµ®ç‚¹æ•°ç²¾ç¡®å€¼çš„å°‘æ•°æƒ…å†µä¸‹æä¾›å¸®åŠ©ã€‚ ä¾‹å¦‚ [`float.as_integer_ratio()`](https://docs.python.org/zh-cn/3/library/stdtypes.html#float.as_integer_ratio) æ–¹æ³•ä¼šå°†æµ®ç‚¹æ•°è¡¨ç¤ºä¸ºä¸€ä¸ªåˆ†æ•°ã€‚ç”±äºè¿™æ˜¯ä¸€ä¸ªç²¾ç¡®çš„æ¯”å€¼ï¼Œå®ƒå¯ä»¥è¢«ç”¨æ¥æ— æŸåœ°é‡å»ºåŸå§‹å€¼:

```python
>>> x = 3.14159
>>> x.as_integer_ratio()
(3537115888337719, 1125899906842624)
>>> x == 3537115888337719 / 1125899906842624
True
```

[`float.hex()`](https://docs.python.org/zh-cn/3/library/stdtypes.html#float.hex) æ–¹æ³•ä¼šä»¥åå…­è¿›åˆ¶ï¼ˆä»¥ 16 ä¸ºåŸºæ•°ï¼‰æ¥è¡¨ç¤ºæµ®ç‚¹æ•°ï¼ŒåŒæ ·èƒ½ç»™å‡ºä¿å­˜åœ¨ä½ çš„è®¡ç®—æœºä¸­çš„ç²¾ç¡®å€¼ï¼Œè¿™ç§ç²¾ç¡®çš„åå…­è¿›åˆ¶è¡¨ç¤ºæ³•å¯è¢«ç”¨æ¥ç²¾ç¡®åœ°é‡å»ºæµ®ç‚¹å€¼

```python
>>> x = 3.14159
>>> x.hex()
'0x1.921f9f01b866ep+1'
>>> float.fromhex('0x1.921f9f01b866ep+1')
3.14159
>>> 
```

å¦ä¸€ä¸ªæœ‰ç”¨çš„å·¥å…·æ˜¯ [`math.fsum()`](https://docs.python.org/zh-cn/3/library/math.html#math.fsum) å‡½æ•°ï¼Œå®ƒæœ‰åŠ©äºå‡å°‘æ±‚å’Œè¿‡ç¨‹ä¸­çš„ç²¾åº¦æŸå¤±ã€‚ å®ƒä¼šåœ¨æ•°å€¼è¢«æ·»åŠ åˆ°æ€»è®¡å€¼çš„æ—¶å€™è·Ÿè¸ªâ€œä¸¢å¤±çš„ä½â€ã€‚ è¿™å¯ä»¥å¾ˆå¥½åœ°ä¿æŒæ€»è®¡å€¼çš„ç²¾ç¡®åº¦ï¼Œ ä½¿å¾—é”™è¯¯ä¸ä¼šç§¯ç´¯åˆ°èƒ½å½±å“ç»“æœæ€»æ•°çš„ç¨‹åº¦:

```python
>>> sum([0.1] * 10) == 1.0
False
>>> math.fsum([0.1] * 10) == 1.0
True
```

## *class* set([*iterable*])

è¿”å›ä¸€ä¸ªæ–°çš„ set å¯¹è±¡ï¼ˆæ— åºä¸é‡å¤å…ƒç´ é›†ï¼‰ï¼Œå¯è¿›è¡Œå…³ç³»æµ‹è¯•ï¼Œåˆ é™¤é‡å¤æ•°æ®ï¼Œè¿˜å¯ä»¥è®¡ç®—äº¤é›†ã€å·®é›†ã€å¹¶é›†ç­‰ã€‚

```python
>>>x = set('runoob')
>>> y = set('google')
>>> x, y
(set(['b', 'r', 'u', 'o', 'n']), set(['e', 'o', 'g', 'l']))   # é‡å¤çš„è¢«åˆ é™¤
>>> x & y         # äº¤é›†
set(['o'])
>>> x | y         # å¹¶é›†
set(['b', 'e', 'g', 'l', 'o', 'n', 'r', 'u'])
>>> x - y         # å·®é›†
set(['r', 'b', 'u', 'n'])
>>>
```

## setattr(*object*, *name*, *value*)

å¯¹åº”å‡½æ•° `getattr()`ï¼Œç”¨äºè®¾ç½®å±æ€§å€¼ï¼Œè¯¥å±æ€§ä¸ä¸€å®šæ˜¯å­˜åœ¨çš„ã€‚å­—ç¬¦ä¸²æŒ‡å®šä¸€ä¸ªç°æœ‰å±æ€§æˆ–è€…æ–°å¢å±æ€§ã€‚ å‡½æ•°ä¼šå°†å€¼èµ‹ç»™è¯¥å±æ€§ï¼Œåªè¦å¯¹è±¡å…è®¸è¿™ç§æ“ä½œã€‚ä¾‹å¦‚ï¼Œ`setattr(x, 'foobar', 123)` ç­‰ä»·äº `x.foobar = 123`ã€‚

```python
class Sample:
	bar = 1

print(Sample.bar)  #1
print(Sample().bar)  #1
getattr(Sample, 'bar')  #1
setattr(Sample,'bar', 3) 
getattr(Sample, 'bar')  #3
setattr(Sample,'foobar', 123) 
getattr(Sample, 'foobar')  #123
```

## *class* slice(*stop*) | *class* slice(*start*, *stop*[, *step*])

è¿”å›ä¸€ä¸ªè¡¨ç¤ºç”± `range(start, stop, step)` æ‰€æŒ‡å®š **ç´¢å¼•é›†** çš„ [slice](https://docs.python.org/zh-cn/3/glossary.html#term-slice) (åˆ‡ç‰‡)å¯¹è±¡ã€‚ å…¶ä¸­ *start* å’Œ *step* å‚æ•°é»˜è®¤ä¸º `None`ã€‚ åˆ‡ç‰‡å¯¹è±¡å…·æœ‰ä»…ä¼šè¿”å›å¯¹åº”å‚æ•°å€¼ï¼ˆæˆ–å…¶é»˜è®¤å€¼ï¼‰çš„åªè¯»æ•°æ®å±æ€§ `start`, `stop` å’Œ `step`ã€‚å®ƒä»¬æ²¡æœ‰å…¶ä»–çš„æ˜¾å¼åŠŸèƒ½ï¼›ä¸è¿‡å®ƒä»¬ä¼šè¢« NumPy ä»¥åŠå…¶ä»–ç¬¬ä¸‰æ–¹æ‰©å±•æ‰€ä½¿ç”¨ã€‚ åˆ‡ç‰‡å¯¹è±¡ä¹Ÿä¼šåœ¨ä½¿ç”¨æ‰©å±•ç´¢å¼•è¯­æ³•æ—¶è¢«ç”Ÿæˆã€‚ ä¾‹å¦‚: `a[start:stop:step]` æˆ– `a[start:stop, i]`ã€‚ è¯·å‚é˜… [`itertools.islice()`](https://docs.python.org/zh-cn/3/library/itertools.html#itertools.islice) äº†è§£è¿”å›è¿­ä»£å™¨çš„ä¸€ç§æ›¿ä»£ç‰ˆæœ¬ã€‚

```python
>>> slice(0,5)
slice(0, 5, None)
>>> arr = range(10)
[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
>>> arr[slice(5)]         # æˆªå– 5 ä¸ªå…ƒç´ 
[0, 1, 2, 3, 4]
```

åœ¨ä½¿ç”¨æ‰©å±•ç´¢å¼•è¯­æ³•æ—¶ï¼Œä¼šè‡ªåŠ¨ç”Ÿæˆåˆ‡ç‰‡å¯¹è±¡ã€‚ä¾‹å¦‚ `a[start:stop:step]` å°†è¢«ç¿»è¯‘ä¸º `a[slice(start,stop,step)]` ï¼Œå¹¶ä½¿ç”¨ `None` å¡«å……åˆ‡ç‰‡ä¸­ç¼ºå°‘çš„é¡¹ï¼Œç„¶åå°†ç»“æœä¼ é€’ç»™ `__getitem__` æ–¹æ³•ã€‚å› æ­¤ï¼Œåœ¨ä½¿ç”¨æ‰©å±•ç´¢å¼•è¯­æ³•æ—¶ï¼Œä¹Ÿå¯ç›´æ¥ä½¿ç”¨åˆ‡ç‰‡å¯¹è±¡ã€‚

```python
>>> class Cls:
... 	def __getitem__(self, key):
... 		return key
...
>>> Cls()[0:1] 
slice(0,1,None)
```



## sorted(*iterable*, *\**, *key=None*, *reverse=False*)

æ ¹æ® *iterable* ä¸­çš„é¡¹è¿”å›ä¸€ä¸ªæ–°çš„å·²æ’åº **åˆ—è¡¨**ã€‚

ä¸¤ä¸ªå¯é€‰å‚æ•°å‡ä¸ºå…³é”®å­—å‚æ•°ã€‚

*key* ä¸ºæ’åºè§„åˆ™ï¼ŒæŒ‡å®šå¸¦æœ‰å•ä¸ªå‚æ•°çš„å‡½æ•°ï¼Œç”¨äºåºåˆ—ä¸­çš„æ¯ä¸ªå…ƒç´ æå–ç”¨äºæ¯”è¾ƒçš„é”®(ä¾‹å¦‚ `key = str.lower`)ã€‚é»˜è®¤ä½ `None` (ç›´æ¥æ¯”è¾ƒå…ƒç´ )

*reverse* ä¸ºä¸€ä¸ªå¸ƒå°”å€¼ï¼Œå¦‚æœä¸º Trueï¼Œåˆ™æ¯ä¸ªåˆ—è¡¨å…ƒç´ å°†æŒ‰åå‘é¡ºåºæ¯”è¾ƒè¿›è¡Œæ’åº

```python
>>>sorted([5, 2, 3, 1, 4])
[1, 2, 3, 4, 5]                      # é»˜è®¤ä¸ºå‡åº

>>> sorted("This is a test string from Andrew".split(), key=str.lower)
['a', 'Andrew', 'from', 'is', 'string', 'test', 'This']

>>> sorted([5, 2, 3, 1, 4], reverse=True)   # å€’åºæ’åº
[5, 4, 3, 2, 1]
```

ä½¿ç”¨ [`functools.cmp_to_key()`](https://docs.python.org/zh-cn/3/library/functools.html#functools.cmp_to_key) å¯å°†è€å¼çš„ *cmp* å‡½æ•°ï¼ˆæ¯”è¾ƒå‡½æ•°ï¼‰è½¬æ¢ä¸º *key* å‡½æ•°ï¼ˆ`key functionï¼ˆé”®å‡½æ•°æˆ–æ•´ç†å‡½æ•°ï¼‰`ï¼‰ã€‚è¡¥å……ï¼šæ¯”è¾ƒå‡½æ•°æ„ä¸ºä¸€ä¸ªå¯è°ƒç”¨å¯¹è±¡ï¼Œè¯¥å¯¹è±¡æ¥å—ä¸¤ä¸ªå‚æ•°å¹¶æ¯”è¾ƒå®ƒä»¬ï¼Œç»“æœä¸ºå°äºåˆ™è¿”å›ä¸€ä¸ªè´Ÿæ•°ï¼Œç›¸ç­‰åˆ™è¿”å›é›¶ï¼Œå¤§äºåˆ™è¿”å›ä¸€ä¸ªæ­£æ•°ã€‚key functionåˆ™æ˜¯ä¸€ä¸ªæ¥å—ä¸€ä¸ªå‚æ•°ï¼Œå¹¶è¿”å›å¦ä¸€ä¸ªç”¨ä»¥æ’åºçš„å€¼çš„å¯è°ƒç”¨å¯¹è±¡ã€‚

ä½¿ç”¨å¯¹è±¡çš„ä¸€äº›ç´¢å¼•ä½œä¸ºé”®å¯¹å¤æ‚å¯¹è±¡è¿›è¡Œæ’åº

```python
# å¤šä¸ªæ’åºè§„åˆ™ï¼šæŒ‰åˆ†æ•°æ’åºï¼Œåˆ†æ•°ç›¸åŒæŒ‰åç§°æ’åº
>>> sort_list = [{'name':'alice', 'score':38}, {'name':'bob', 'score':18}, {'name':'darl', 'score':28}, {'name':'christ', 'score':28}]
>>> sorted(sort_list, key=lambda x:(-x['score'], x['name'])) 
[{'name': 'alice', 'score': 38}, {'name': 'christ', 'score': 28}, {'name': 'darl', 'score': 28}, {'name': 'bob', 'score': 18}]

>>> student_tuples = [
...     ('john', 'A', 15),
...     ('jane', 'B', 12),
...     ('dave', 'B', 10),
... ]
>>> sorted(student_tuples, key=lambda student: student[2])   # sort by age
[('dave', 'B', 10), ('jane', 'B', 12), ('john', 'A', 15)]
```

åŒæ ·é€‚ç”¨äºå…·æœ‰å‘½åå±æ€§çš„å¯¹è±¡

```python
# ç”¨äºå…·æœ‰å‘½åå±æ€§çš„å¯¹è±¡
>>> class Student:
...     def __init__(self, name, grade, age):
...         self.name = name
...         self.grade = grade
...         self.age = age
...     def __repr__(self):
...         return repr((self.name, self.grade, self.age))
>>> student_objects = [
...     Student('john', 'A', 15),
...     Student('jane', 'B', 12),
...     Student('dave', 'B', 10),
... ]
>>> sorted(student_objects, key=lambda student: student.age)   # sort by age
[('dave', 'B', 10), ('jane', 'B', 12), ('john', 'A', 15)]
```

 [`operator`](https://docs.python.org/zh-cn/3/library/operator.html#module-operator) æ¨¡å—æœ‰ [`itemgetter()`](https://docs.python.org/zh-cn/3/library/operator.html#operator.itemgetter) ã€ [`attrgetter()`](https://docs.python.org/zh-cn/3/library/operator.html#operator.attrgetter) å’Œ [`methodcaller()`](https://docs.python.org/zh-cn/3/library/operator.html#operator.methodcaller) å‡½æ•°ä¼šè®©æ’åºå˜å¾—æ›´ç®€å•ã€‚å¹¶ä¸”è¿˜æ”¯æŒå¤šçº§æ’åº

```python
>>> from operator import itemgetter, attrgetter
>>> student_tuples = [
...     ('john', 'A', 15),
...     ('jane', 'B', 12),
...     ('dave', 'B', 10),
... ]
>>> sorted(student_tuples, key=itemgetter(2))
[('dave', 'B', 10), ('jane', 'B', 12), ('john', 'A', 15)]
>>> sorted(student_objects, key=attrgetter('age'))
[('dave', 'B', 10), ('jane', 'B', 12), ('john', 'A', 15)]

# å¤šçº§æ’åº
>>> sorted(student_tuples, key=itemgetter(1,2))
[('john', 'A', 15), ('dave', 'B', 10), ('jane', 'B', 12)]
>>> sorted(student_objects, key=attrgetter('grade', 'age'))
[('john', 'A', 15), ('dave', 'B', 10), ('jane', 'B', 12)]
```

å†…ç½®çš„ `sorted()` æ˜¯ç¨³å®šæ’åºï¼ˆæ¯”è¾ƒç»“æœç›¸åŒçš„å€¼çš„ç›¸å¯¹é¡ºåºä¸ä¼šæ”¹å˜ï¼‰

```python
>>> data = [('red', 1), ('blue', 1), ('red', 2), ('blue', 2)]
>>> sorted(data, key=itemgetter(0))
[('blue', 1), ('blue', 2), ('red', 1), ('red', 2)]
```

ä¸ `sort()` åŒºåˆ«ï¼š

- `sort()` æ˜¯åˆ—è¡¨æ–¹æ³•ï¼Œä¼šç›´æ¥ä¿®æ”¹åŸè¡¨ï¼Œå¹¶è¿”å› None ä»¥é¿å…æ··æ·†
- `sorted()` å¯ä»¥æ¥æ”¶ä»»ä½•å¯è¿­ä»£å¯¹è±¡ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ–°çš„åˆ—è¡¨

## @staticmethod

å°†æ–¹æ³•è½¬æ¢ä¸ºé™æ€æ–¹æ³•ã€‚é™æ€æ–¹æ³•ä¸ä¼šæ¥æ”¶éšå¼çš„ç¬¬ä¸€ä¸ªå‚æ•°ã€‚è¦å£°æ˜ä¸€ä¸ªé™æ€æ–¹æ³•ï¼Œè¯·ä½¿ç”¨æ­¤è¯­æ³•

```python
class C:
	@staticmethod
    def f(arg1, arg2, ...): ...
```

`@staticmethod` è¿™æ ·çš„å½¢å¼ç§°ä¸ºå‡½æ•°çš„ [decorator](https://docs.python.org/zh-cn/3/glossary.html#term-decorator) 

é™æ€æ–¹æ³•çš„è°ƒç”¨å¯ä»¥åœ¨ç±»ä¸Šè¿›è¡Œ (ä¾‹å¦‚ `C.f()`) ä¹Ÿå¯ä»¥åœ¨å®ä¾‹ä¸Šè¿›è¡Œ (ä¾‹å¦‚ `C().f()`)ã€‚





## *class* str(*object*='â€™) | *class* str(*object=b''*, *encoding='utf-8'*, *errors='strict'*)

è¿”å›å¯¹è±¡çš„å­—ç¬¦ä¸²ç‰ˆæœ¬ã€‚å¦‚æœ *object* ä¸ºç©ºåˆ™è¿”å›ç©ºå­—ç¬¦ä¸²ã€‚

å¦‚æœ *encoding* æˆ– *errors* å‡ä¸ºç»™å‡ºï¼Œ`str(object)` è¿”å› `object.__str__()`ï¼Œè¿™æ˜¯ *object* çš„ "éæ­£å¼â€ æˆ–æ ¼å¼è‰¯å¥½çš„å­—ç¬¦ä¸²è¡¨ç¤ºã€‚å¯¹äºå­—ç¬¦ä¸²å¯¹è±¡ï¼Œè¿™æ˜¯è¯¥å­—ç¬¦ä¸²æœ¬èº«ã€‚å¦‚æœ *object* æ²¡æœ‰ `__str__()` æ–¹æ³•ï¼Œåˆ™ `str()` å°†å›é€€ä¸ºè¿”å› `repr(object)`

```python
>>> str('RUNOOB')
'RUNOOB'
>>> str({'a':1,'b':2})
"{'a':1, 'b':2}"
>>> str([1,2,3,4])
'[1,2,3,4]'

>>> class Sample:
... 	def __init__(self,value):
... 		self.value = value
... 	def __str__(self):    # å®šä¹‰äº† __str__()æ–¹æ³•çš„å¯¹è±¡
... 		return str(self.value)
...
>>> str(Sample(6))
'6'
>>> class Sample:
... 	def __init__(self,value):
... 		self.value = value
... 	def __repr__(self):  # æ²¡æœ‰__str__()æ–¹æ³•å›é€€åˆ° __repr__()
... 		return repr(self.value)
...
>>> str(Sample(6))
'6'
```

å¦‚æœ *encoding* æˆ– *errors* è‡³å°‘ç»™å‡ºå…¶ä¸­ä¹‹ä¸€ï¼Œåˆ™ *object* åº”è¯¥æ˜¯ä¸€ä¸ª  [bytes-like object](https://docs.python.org/zh-cn/3/glossary.html#term-bytes-like-object) (ä¾‹å¦‚ [`bytes`](https://docs.python.org/zh-cn/3/library/stdtypes.html#bytes) æˆ– [`bytearray`](https://docs.python.org/zh-cn/3/library/stdtypes.html#bytearray))ã€‚ åœ¨æ­¤æƒ…å†µä¸‹ï¼Œå¦‚æœ *object* æ˜¯ä¸€ä¸ª [`bytes`](https://docs.python.org/zh-cn/3/library/stdtypes.html#bytes) (æˆ– [`bytearray`](https://docs.python.org/zh-cn/3/library/stdtypes.html#bytearray)) å¯¹è±¡ï¼Œåˆ™ `str(bytes, encoding, errors)` ç­‰ä»·äº [`bytes.decode(encoding, errors)`](https://docs.python.org/zh-cn/3/library/stdtypes.html#bytes.decode)ã€‚ å¦åˆ™çš„è¯ï¼Œä¼šåœ¨è°ƒç”¨ [`bytes.decode()`](https://docs.python.org/zh-cn/3/library/stdtypes.html#bytes.decode) ä¹‹å‰è·å–ç¼“å†²åŒºå¯¹è±¡ä¸‹å±‚çš„ bytes å¯¹è±¡ã€‚

```python
>>> str(b'Zoot!', encoding='utf-8')
'Zoot!'

>>> str(b'Zoot!')  # åªä¼ å…¥ bytes ç¼ºå°‘ encodingæˆ–errorså‚æ•°ï¼Œ
"b'Zoot!'"
```

## sum(*iterable*, */*, *start=0*)

ä» *start* ï¼ˆåˆå§‹å€¼ï¼Œéä¸‹æ ‡ï¼‰å¼€å§‹è‡ªå·¦å‘å³å¯¹ *iterable* çš„é¡¹æ±‚å’Œå¹¶è¿”å›æ€»è®¡å€¼ã€‚*iterable* é€šå¸¸ä¸ºæ•°å­—ï¼Œè€Œ *start* å€¼åˆ™ä¸è¿è¡Œä¸ºå­—ç¬¦ä¸²ã€‚

```python
>>> sum((2,3,4),1)  #ç­‰ä»·äº 1+2+3+4
10
>>> sum([0,1,2,3,4], 2)      # åˆ—è¡¨è®¡ç®—æ€»å’Œåå†åŠ  2
12
```

å¯¹æŸäº›ç”¨ä¾‹æ¥è¯´ï¼Œå­˜åœ¨ [`sum()`](https://docs.python.org/zh-cn/3/library/functions.html#sum) çš„æ›´å¥½æ›¿ä»£ã€‚ æ‹¼æ¥å­—ç¬¦ä¸²åºåˆ—çš„æ›´å¥½æ›´å¿«æ–¹å¼æ˜¯è°ƒç”¨ `''.join(sequence)`ã€‚ è¦ä»¥æ‰©å±•ç²¾åº¦å¯¹æµ®ç‚¹å€¼æ±‚å’Œï¼Œè¯·å‚é˜… [`math.fsum()`](https://docs.python.org/zh-cn/3/library/math.html#math.fsum)ã€‚ è¦æ‹¼æ¥ä¸€ç³»åˆ—å¯è¿­ä»£å¯¹è±¡ï¼Œè¯·è€ƒè™‘ä½¿ç”¨ [`itertools.chain()`](https://docs.python.org/zh-cn/3/library/itertools.html#itertools.chain)ã€‚

```python
>>> '+'.join('1234')
'1+2+3+4'

>>> sum([.1]*10)
0.9999999999999999
>>> import math
>>> math.fsum([.1]*10)
1.0

>>> import itertools
>>> list(itertools.chain('123','456'))
['1', '2', '3', '4', '5', '6']
```

## super([*type*[, *object-or-type*]])

è¿”å›ä¸€ä¸ªä»£ç†å¯¹è±¡ï¼Œå®ƒä¼šå°†æ–¹æ³•è°ƒç”¨å§”æ‰˜ç»™ *type* çš„çˆ¶ç±»æˆ–å…„å¼Ÿç±»ã€‚ è¿™å¯¹äºè®¿é—®å·²åœ¨ç±»ä¸­è¢«é‡è½½çš„ç»§æ‰¿æ–¹æ³•å¾ˆæœ‰ç”¨

*object-or-type* ç¡®å®šç”¨äºæœç´¢çš„ [method resolution order](https://docs.python.org/zh-cn/3/glossary.html#term-method-resolution-order)ã€‚ æœç´¢ä¼šä» *type* ä¹‹åçš„ç±»å¼€å§‹ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œå¦‚æœ *object-or-type* çš„ [`__mro__`](https://docs.python.org/zh-cn/3/library/stdtypes.html#class.__mro__) ä¸º `D -> B -> C -> A -> object` å¹¶ä¸” *type* çš„å€¼ä¸º `B`ï¼Œåˆ™ [`super()`](https://docs.python.org/zh-cn/3/library/functions.html#super) å°†ä¼šæœç´¢ `C -> A -> object`ã€‚

*object-or-type* çš„ [`__mro__`](https://docs.python.org/zh-cn/3/library/stdtypes.html#class.__mro__) å±æ€§åˆ—å‡ºäº† [`getattr()`](https://docs.python.org/zh-cn/3/library/functions.html#getattr) å’Œ [`super()`](https://docs.python.org/zh-cn/3/library/functions.html#super) æ‰€å…±åŒä½¿ç”¨çš„æ–¹æ³•è§£ææœç´¢é¡ºåºã€‚ è¯¥å±æ€§æ˜¯åŠ¨æ€çš„ï¼Œå¯ä»¥åœ¨ä»»ä½•ç»§æ‰¿å±‚çº§ç»“æ„å‘ç”Ÿæ›´æ–°çš„æ—¶å€™è¢«æ”¹å˜ã€‚

 *super* æœ‰ä¸¤ä¸ªå…¸å‹ç”¨ä¾‹ã€‚ åœ¨å…·æœ‰å•ç»§æ‰¿çš„ç±»å±‚çº§ç»“æ„ä¸­ï¼Œ*super* å¯ç”¨æ¥å¼•ç”¨çˆ¶ç±»è€Œä¸å¿…æ˜¾å¼åœ°æŒ‡å®šå®ƒä»¬çš„åç§°ï¼Œä»è€Œä»¤ä»£ç æ›´æ˜“ç»´æŠ¤ã€‚ è¿™ç§ç”¨æ³•ä¸å…¶ä»–ç¼–ç¨‹è¯­è¨€ä¸­ *super* çš„ç”¨æ³•éå¸¸ç›¸ä¼¼ã€‚

ç¬¬äºŒä¸ªç”¨ä¾‹æ˜¯åœ¨åŠ¨æ€æ‰§è¡Œç¯å¢ƒä¸­æ”¯æŒåä½œå¤šé‡ç»§æ‰¿ã€‚ æ­¤ç”¨ä¾‹ä¸º Python æ‰€ç‹¬æœ‰ï¼Œåœ¨é™æ€ç¼–è¯‘è¯­è¨€æˆ–ä»…æ”¯æŒå•ç»§æ‰¿çš„è¯­è¨€ä¸­æ˜¯ä¸å­˜åœ¨çš„ã€‚ è¿™ä½¿å¾—å®ç°â€œè±å½¢å›¾â€æˆä¸ºå¯èƒ½ï¼Œåœ¨è¿™æ—¶ä¼šæœ‰å¤šä¸ªåŸºç±»å®ç°ç›¸åŒçš„æ–¹æ³•ã€‚ å¥½çš„è®¾è®¡å¼ºåˆ¶è¦æ±‚è¿™ç§æ–¹æ³•åœ¨æ¯ä¸ªæƒ…å†µä¸‹å…·æœ‰ç›¸åŒçš„è°ƒç”¨ç­¾åï¼ˆå› ä¸ºè°ƒç”¨é¡ºåºæ˜¯åœ¨è¿è¡Œæ—¶ç¡®å®šçš„ï¼Œä¹Ÿå› ä¸ºè¯¥é¡ºåºè¦é€‚åº”ç±»å±‚çº§ç»“æ„çš„æ›´æ”¹ï¼Œè¿˜å› ä¸ºè¯¥é¡ºåºå¯èƒ½åŒ…å«åœ¨è¿è¡Œæ—¶ä¹‹å‰æœªçŸ¥çš„å…„å¼Ÿç±»ï¼‰ã€‚

å¯¹äºä»¥ä¸Šä¸¤ä¸ªç”¨ä¾‹ï¼Œå…¸å‹çš„è¶…ç±»è°ƒç”¨çœ‹èµ·æ¥æ˜¯è¿™æ ·çš„:

```python
class C(B):
    def method(self, arg):
        super().method(arg)    # This does the same thing as:
                               # super(C, self).method(arg)
```

å¯¹äºå•ç»§æ‰¿æ¥è®²ï¼Œ`super`è·å–çš„ç±»åˆšå¥½æ˜¯çˆ¶ç±»ï¼Œ`super().__init__()`ä¸`Base.__init__()`æ˜¯ä¸€æ ·çš„ã€‚super()é¿å…äº†åŸºç±»çš„æ˜¾å¼è°ƒç”¨ã€‚

```python
class Base(object):
    def __init__(self):
        print 'Create Base'

class A(Base):
    def __init__(self):
        Base.__init__(self)
        print 'Create A'

A()

# æµ‹è¯•ç»“æœ
Create Base
Create A


class Base(object):
    def __init__(self):
        print 'Create Base'

class A(Base):
    def __init__(self):
        super(A, self).__init__()
        # super().__init()  python3
        print 'Create A'

A()

# æµ‹è¯•ç»“æœ
Create Base
Create A
```

å¤šç»§æ‰¿æ—¶ï¼Œ`super`è·å–çš„æ˜¯ç»§æ‰¿é¡ºåº(`MRO`)ä¸­çš„ä¸‹ä¸€ä¸ªç±»ï¼Œå¹¶ä¸”é¿å…äº†åŸºç±»çš„å¤šæ¬¡è°ƒç”¨ï¼ŒèŠ‚çœç³»ç»Ÿå¼€é”€

- ä½¿ç”¨ super

```python
class Base(object):
    def __init__(self):
        print("enter Base")
        print("leave Base")

class A(Base):
    def __init__(self):
        print("enter A")
        super(A, self).__init__()
        print("leave A")

class B(Base):
    def __init__(self):
        print("enter B")
        super(B, self).__init__()
        print("leave B")

class C(A, B):
    def __init__(self):
        print("enter C")
        super(C, self).__init__()
        print("leave C")
        
print(C.mro())
C()
# è¾“å‡º
# [<class '__main__.C'>, <class '__main__.A'>, <class '__main__.B'>, <class '__main__.Base'>, <class 'object'>]
# enter C
# enter A
# enter B
# enter Base
# leave Base
# leave B
# leave A
# leave C
```

ä¸ä½¿ç”¨ super

```python
class Base(object):
    def __init__(self):
        print("enter Base")
        print("leave Base")

class A(Base):
    def __init__(self):
        print("enter A")
        Base().__init__()
        print("leave A")

class B(Base):
    def __init__(self):
        print("enter B")
        Base().__init__()
        print("leave B")

class C(A, B):
    def __init__(self):
        print("enter C")
        A().__init__()
        B().__init__()
        print("leave C")
print(C.mro())
C()
# æµ‹è¯•ç»“æœ
# [<class '__main__.C'>, <class '__main__.A'>, <class '__main__.B'>, <class '__main__.Base'>, <class 'object'>]
# enter C
# enter A
# enter Base
# leave Base
# enter Base
# leave Base
# leave A
# enter A
# enter Base
# leave Base
# enter Base
# leave Base
# leave A
# enter B
# # enter Base
# leave Base
# enter Base
# leave Base
# leave B
# enter B
# enter Base
# leave Base
# enter Base
# leave Base
# leave B
# leave C
```



## tuple([*iterable*])

æ„é€ å™¨å°†æ„é€ ä¸€ä¸ªå…ƒç»„ï¼Œå…¶ä¸­çš„é¡¹ä¸ *iterable* ä¸­çš„é¡¹å…·æœ‰ç›¸åŒçš„å€¼ä¸é¡ºåºã€‚ *iterable* å¯ä»¥æ˜¯åºåˆ—ã€æ”¯æŒè¿­ä»£çš„å®¹å™¨æˆ–å…¶ä»–å¯è¿­ä»£å¯¹è±¡ã€‚ å¦‚æœ *iterable* å·²ç»æ˜¯ä¸€ä¸ªå…ƒç»„ï¼Œä¼šä¸åŠ æ”¹å˜åœ°å°†å…¶è¿”å›ã€‚å¦‚æœå‚æ•°ä¸ºç©ºï¼Œåˆ™è¿”å›ä¸€ä¸ªç©ºå…ƒç»„

```python
>>> tuple()  #æ— å‚
()
>>> tuple('abcd')  #å­—ç¬¦ä¸²
('a', 'b', 'c', 'd')
>>> tuple([1,2,3,4])  #åˆ—è¡¨
(1,2,3,4)
>>> tuple({'a':1,'b':2,'c':3})   #å­—å…¸ä¿ç•™é”®
('a','b','c')
```

## *calss* type(*object*) | *class* type(*name*, *bases*, *dict*)

ä¼ å…¥ä¸€ä¸ªå‚æ•°æ—¶ï¼Œè¿”å› *object* çš„ç±»å‹ã€‚è¿”å›å€¼æ˜¯ä¸€ä¸ª type å¯¹è±¡ï¼Œé€šå¸¸ä¸[`object.__class__`](https://docs.python.org/zh-cn/3/library/stdtypes.html#instance.__class__) æ‰€è¿”å›çš„å¯¹è±¡ç›¸åŒã€‚

æ¨èä½¿ç”¨ [`isinstance()`](https://docs.python.org/zh-cn/3/library/functions.html#isinstance) å†…ç½®å‡½æ•°æ¥æ£€æµ‹å¯¹è±¡çš„ç±»å‹ï¼Œå› ä¸ºå®ƒä¼šè€ƒè™‘å­ç±»ç»§æ‰¿çš„æƒ…å†µã€‚

```python
print(type('1'))  # <class 'str'>
print('1'.__class__)  # <class 'str'>
print(type(1)==int)  #True

# isinstance()è€ƒè™‘ç»§æ‰¿é—®é¢˜ï¼Œè€Œtype()ä¸è€ƒè™‘
class A:
    pass
 
class B(A):
    pass
 
isinstance(A(), A)    # returns True
type(A()) == A        # returns True
isinstance(B(), A)    # returns True
type(B()) == A        # returns False
```

ä¼ å…¥ä¸‰ä¸ªå‚æ•°æ—¶ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„ type å¯¹è±¡ã€‚ è¿™åœ¨æœ¬è´¨ä¸Šæ˜¯ [`class`](https://docs.python.org/zh-cn/3/reference/compound_stmts.html#class) è¯­å¥çš„ä¸€ç§åŠ¨æ€å½¢å¼ã€‚ *name* å­—ç¬¦ä¸²å³ç±»åå¹¶ä¸”ä¼šæˆä¸º [`__name__`](https://docs.python.org/zh-cn/3/library/stdtypes.html#definition.__name__) å±æ€§ï¼›*bases* å…ƒç»„åˆ—å‡ºåŸºç±»å¹¶ä¸”ä¼šæˆä¸º [`__bases__`](https://docs.python.org/zh-cn/3/library/stdtypes.html#class.__bases__) å±æ€§ï¼›è€Œ *dict* å­—å…¸ä¸ºåŒ…å«ç±»ä¸»ä½“å®šä¹‰çš„å‘½åç©ºé—´å¹¶ä¸”ä¼šè¢«å¤åˆ¶åˆ°ä¸€ä¸ªæ ‡å‡†å­—å…¸æˆä¸º [`__dict__`](https://docs.python.org/zh-cn/3/library/stdtypes.html#object.__dict__) å±æ€§ã€‚ ä¾‹å¦‚ï¼Œä¸‹é¢ä¸¤æ¡è¯­å¥ä¼šåˆ›å»ºç›¸åŒçš„ [`type`](https://docs.python.org/zh-cn/3/library/functions.html#type) å¯¹è±¡:

```python
>>> class X:
...     a = 1
...
>>> X = type('X', (object,), dict(a=1))
```

## vars([*object*])

è¿”å›æ¨¡å—ã€ç±»ã€å®ä¾‹æˆ–ä»»ä½•å…¶ä»–å…·æœ‰ [`__dict__`](https://docs.python.org/zh-cn/3/library/stdtypes.html#object.__dict__) å±æ€§çš„å¯¹è±¡çš„ [`__dict__`](https://docs.python.org/zh-cn/3/library/stdtypes.html#object.__dict__) å±æ€§ã€‚ 

æ¨¡å—å’Œå®ä¾‹è¿™æ ·çš„å¯¹è±¡å…·æœ‰å¯æ›´æ–°çš„ [`__dict__`](https://docs.python.org/zh-cn/3/library/stdtypes.html#object.__dict__) å±æ€§ï¼›ä½†æ˜¯ï¼Œå…¶å®ƒå¯¹è±¡çš„ [`__dict__`](https://docs.python.org/zh-cn/3/library/stdtypes.html#object.__dict__) å±æ€§å¯èƒ½ä¼šè®¾ä¸ºé™åˆ¶å†™å…¥ï¼ˆä¾‹å¦‚ï¼Œç±»ä¼šä½¿ç”¨ [`types.MappingProxyType`](https://docs.python.org/zh-cn/3/library/types.html#types.MappingProxyType) æ¥é˜²æ­¢ç›´æ¥æ›´æ–°å­—å…¸ï¼‰ã€‚

ä¸å¸¦å‚æ•°æ—¶ï¼Œ[`vars()`](https://docs.python.org/zh-cn/3/library/functions.html#vars) çš„è¡Œä¸ºç±»ä¼¼ [`locals()`](https://docs.python.org/zh-cn/3/library/functions.html#locals)ã€‚ è¯·æ³¨æ„ï¼Œlocals å­—å…¸ä»…å¯¹äºè¯»å–èµ·ä½œç”¨ï¼Œå› ä¸ºå¯¹ locals å­—å…¸çš„æ›´æ–°ä¼šè¢«å¿½ç•¥ã€‚

```python
>>> class C:
...     a=1
...
>>> vars(C)
mappingproxy({'__module__': '__main__', 
              'a': 1, 
              '__dict__': <attribute '__dict__' of 'C' objects>, 
              '__weakref__': <attribute '__weakref__' of 'C' objects>, 
              '__doc__': None})

```

## zip(\**iterable*)

è¿”å›ä¸€ä¸ª **å…ƒç»„** çš„è¿­ä»£å™¨ï¼Œå…¶ä¸­çš„**ç¬¬ *i* ä¸ªå…ƒç»„**åŒ…å«æ¥è‡ªæ¯ä¸ªå‚æ•°åºåˆ—æˆ–å¯è¿­ä»£å¯¹è±¡çš„**ç¬¬ *i* ä¸ªå…ƒç´ **ã€‚ å½“æ‰€è¾“å…¥å¯è¿­ä»£å¯¹è±¡ä¸­**æœ€çŸ­**çš„ä¸€ä¸ªè¢«è€—å°½æ—¶ï¼Œè¿­ä»£å™¨å°†åœæ­¢è¿­ä»£ã€‚ å½“åªæœ‰ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡å‚æ•°æ—¶ï¼Œå®ƒå°†è¿”å›ä¸€ä¸ªå•å…ƒç»„çš„è¿­ä»£å™¨ã€‚ ä¸å¸¦å‚æ•°æ—¶ï¼Œå®ƒå°†è¿”å›ä¸€ä¸ªç©ºè¿­ä»£å™¨ã€‚ç›¸å½“äº 

```python
def zip(*iterables):
    # zip('ABCE','xy') --> Ax By
    sentinel = object()
    iterators = [iter(it) for it in iterables]
    while iterators:
        result = []
        for itor in iterators:
            elem = next(itor, sentinel)
            if elem is sentinel:
                return
            result.append(elem)
        yield tuple(result)
```

```python
>>>a = [1,2,3]
>>> b = [4,5,6]
>>> c = [4,5,6,7,8]
>>> zipped = zip(a,b)     # è¿”å›ä¸€ä¸ªå¯¹è±¡
>>> zipped
<zip object at 0x103abc288>
>>> list(zipped)  # list() è½¬æ¢ä¸ºåˆ—è¡¨
[(1, 4), (2, 5), (3, 6)]
>>> list(zip(a,c))              # å…ƒç´ ä¸ªæ•°ä¸æœ€çŸ­çš„åˆ—è¡¨ä¸€è‡´
[(1, 4), (2, 5), (3, 6)]
```

[`zip()`](https://docs.python.org/zh-cn/3/library/functions.html#zip) ä¸ `*` è¿ç®—ç¬¦ç›¸ç»“åˆå¯ä»¥ç”¨æ¥æ‹†è§£ä¸€ä¸ªåˆ—è¡¨:

```python
>>> x=[1,2,3]
>>> y=[4,5,6]
>>> list(zip(x,y))
[(1,4),(2,5),(3,6)]
>>> x2, y2 = zip(*zip(x,y))
>>> x2, y2
(1,2,3), (4,5,6)
>>> list(x2)==x and list(y2)==y
True
```

å½“ä½ ä¸ç”¨å…³å¿ƒè¾ƒé•¿å¯è¿­ä»£å¯¹è±¡æœ«å°¾ä¸åŒ¹é…çš„å€¼æ—¶ï¼Œåˆ™ [`zip()`](https://docs.python.org/zh-cn/3/library/functions.html#zip) åªé¡»ä½¿ç”¨é•¿åº¦ä¸ç›¸ç­‰çš„è¾“å…¥å³å¯ã€‚ å¦‚æœé‚£äº›å€¼å¾ˆé‡è¦ï¼Œåˆ™åº”æ”¹ç”¨ [`itertools.zip_longest()`](https://docs.python.org/zh-cn/3/library/itertools.html#itertools.zip_longest)ã€‚è¯­æ³•å¦‚ä¸‹ï¼šitertools.**zip_longest**(**iterables*, *fillvalue=None*)

`zip_longest()` ä¼šæ ¹æ®æœ€é•¿çš„å¯è¿­ä»£å¯¹è±¡æ¥è¿›è¡Œè¿­ä»£ï¼Œå¹¶æ ¹æ® *fillvalue* æ¥å¡«å……ç¼ºå¤±å€¼ã€‚ç›¸å½“äº

```python
def zip_longest(*args, fillvalue=None):
    #zip_longest('ABCD','xy',fillvalue='-') --> Ax By C- D-
   	iterators = [iter(it) for it in args]
    num_active = len(iterators)
    if not num_active:
        return
    while True:
        values = []
        for i, it in enumerate(iterators):
            try:
                value = next(it)
            except StopIteration:
                num_active -=1
                if not num_active
                	return
                iterators[i] = repeat(fillvalue)
                value = fillvalue
            values.append(value)
        yield tuple(values)  
```



  